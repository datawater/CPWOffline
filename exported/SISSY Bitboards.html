<!DOCTYPE html>

<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="utf-8"/>
<title>SISSY Bitboards - Chessprogramming wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"SISSY_Bitboards","wgTitle":"SISSY Bitboards","wgCurRevisionId":23641,"wgRevisionId":23641,"wgArticleId":6855,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Paul Klee","Carina JÃ¸rgensen"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"SISSY_Bitboards","wgRelevantArticleId":6855,"wgRequestId":"Zp7DyYmrBwsfzuHkr3tRwAAAAA4","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","wgMFExpandAllSectionsUserOption":false,"wgMFDisplayWikibaseDescriptions":{"search":false,"nearby":false,"watchlist":false,"tagline":false}});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","ext.cite.styles":"ready","ext.FenTT.styles":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.options@0bhc5ha",function($,jQuery,require,module){mw.user.options.set([]);});mw.loader.implement("user.tokens@0kthzed",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/

});mw.loader.load(["ext.cite.a11y","site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link href="/load.php?debug=false&amp;lang=en&amp;modules=ext.FenTT.styles%7Cext.cite.styles%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;printable=1&amp;skin=vector" rel="stylesheet"/>
<script async="" src="/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;printable=1&amp;skin=vector"></script>
<meta content="" name="ResourceLoaderDynamicStyles"/>
<link href="/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;printable=1&amp;skin=vector" rel="stylesheet"/>
<meta content="MediaWiki 1.30.1" name="generator"/>
<meta content="noindex,follow" name="robots"/>
<link href="/images/favicon.ico" rel="shortcut icon"/>
<link href="/opensearch_desc.php" rel="search" title="Chessprogramming wiki (en)" type="application/opensearchdescription+xml"/>
<link href="https://www.chessprogramming.org/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link href="/Chessprogramming:About" rel="license"/>
<link href="/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="Chessprogramming wiki Atom feed" type="application/atom+xml"/>
<!--[if lt IE 9]><script src="/resources/lib/html5shiv/html5shiv.min.js?40bd4"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-SISSY_Bitboards rootpage-SISSY_Bitboards skin-vector action-view"> <div class="noprint" id="mw-page-base"></div>
<div class="noprint" id="mw-head-base"></div>
<div class="mw-body" id="content" role="main">
<a id="top"></a>
<div class="mw-indicators mw-body-content">
</div>
<h1 class="firstHeading" id="firstHeading" lang="en">SISSY Bitboards</h1>
<div class="mw-body-content" id="bodyContent">
<div class="noprint" id="siteSub">From Chessprogramming wiki</div>
<div id="contentSub"></div>
<div class="mw-jump" id="jump-to-nav">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
</div>
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><p><b><a href="Main Page.html" title="Main Page">Home</a> * <a href="Board Representation.html" title="Board Representation">Board Representation</a> * <a href="Bitboards.html" title="Bitboards">Bitboards</a> * <a href="Sliding Piece Attacks.html" title="Sliding Piece Attacks">Sliding Piece Attacks</a> * SISSY Bitboards</b>
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a class="image" href="File:Paul Klee, Hauptweg und Nebenwege, 1929, %C3%96l auf Leinwand, 83,7 x 67,5 cm, Museum Ludwig 1976.jpg.html"><img alt="" class="thumbimage" height="365" src="wikipedia/commons/thumb/6/6c/Paul_Klee%2C_Hauptweg_und_Nebenwege%2C_1929%2C_%C3%96l_auf_Leinwand%2C_83%2C7_x_67%2C5_cm%2C_Museum_Ludwig_1976.jpg/300px-Paul_Klee%2C_Hauptweg_und_Nebenwege%2C_1929%2C_%C3%96l_auf_Leinwand%2C_83%2C7_x_67%2C5_cm%2C_Museum_Ludwig_1976.jpg" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Paul_Klee%2C_Hauptweg_und_Nebenwege%2C_1929%2C_%C3%96l_auf_Leinwand%2C_83%2C7_x_67%2C5_cm%2C_Museum_Ludwig_1976.jpg/450px-Paul_Klee%2C_Hauptweg_und_Nebenwege%2C_1929%2C_%C3%96l_auf_Leinwand%2C_83%2C7_x_67%2C5_cm%2C_Museum_Ludwig_1976.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Paul_Klee%2C_Hauptweg_und_Nebenwege%2C_1929%2C_%C3%96l_auf_Leinwand%2C_83%2C7_x_67%2C5_cm%2C_Museum_Ludwig_1976.jpg/600px-Paul_Klee%2C_Hauptweg_und_Nebenwege%2C_1929%2C_%C3%96l_auf_Leinwand%2C_83%2C7_x_67%2C5_cm%2C_Museum_Ludwig_1976.jpg 2x" width="300"/></a> <div class="thumbcaption"><div class="magnify"><a class="internal" href="File:Paul Klee, Hauptweg und Nebenwege, 1929, %C3%96l auf Leinwand, 83,7 x 67,5 cm, Museum Ludwig 1976.jpg.html" title="Enlarge"></a></div><a href="Category:Paul Klee.html" title="Category:Paul Klee">Paul Klee</a> - Hauptweg und Nebenwege, 1929 <sup class="reference" id="cite_ref-1"><a href="#cite note-1">[1]</a></sup></div></div></div>
<p><b>SISSY Bitboards</b> (Split Index Super Set Yielding),<br/>
a new and interesting approach to determine sliding piece attacks devised by <a href="Michael Sherwin.html" title="Michael Sherwin">Michael Sherwin</a>, introduced and discussed in <a href="CCC.html" title="CCC">CCC</a> in February 2020 <sup class="reference" id="cite_ref-2"><a href="#cite note-2">[2]</a></sup> as an improvement of his <a href="Sherwin Bitboards.html" title="Sherwin Bitboards">Sherwin Bitboards</a>.
SISSY bitboards apply the occupancy lookup <a href="Ranks.html" title="Ranks">rank</a> by rank to <a href="General Setwise Operations.html#Intersection" title="General Setwise Operations">intersect</a> supersets of the attack bitboards from the same square considering blocking pieces on that particular rank only.
While using eight lookups to intersect sounds expensive on the first glance, SISSY Bitboards yields up to eight <a href="Direction.html#RayDirections" title="Direction">ray-directions</a> of a queen in one run with cheap instructions and high <a class="external text" href="https://en.wikipedia.org/wiki/Instructions_per_cycle" rel="nofollow">IPC</a> potential, and thus may be an alternative for <a href="Magic Bitboards.html" title="Magic Bitboards">magic bitboards</a> on architectures with slow 64-bit multiplication, in particular for the queen.
</p>
<table>
<tr>
<td> <div class="thumb tright"><div class="thumbinner" style="width:51px;"><a href="Square Mapping Considerations.html" title="Square Mapping Considerations"><img alt="Cpwmappinghint.JPG" class="thumbimage" height="48" src="images/4/43/Cpwmappinghint.JPG" width="49"/></a> <div class="thumbcaption"><div class="magnify"><a class="internal" href="File:Cpwmappinghint.JPG.html" title="Enlarge"></a></div></div></div></div>
</td>
<td> <i>Code samples and bitboard diagrams rely on <a href="Square Mapping Considerations.html#LittleEndianRankFileMapping" title="Square Mapping Considerations">Little endian file and rank mapping</a></i>.
</td></tr></table>
<div class="toc" id="toc"><div class="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Queen Attacks"><span class="tocnumber">1</span> <span class="toctext">Queen Attacks</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Union Bitboard"><span class="tocnumber">2</span> <span class="toctext">Union Bitboard</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Bishop Attacks"><span class="tocnumber">3</span> <span class="toctext">Bishop Attacks</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Rook Attacks"><span class="tocnumber">4</span> <span class="toctext">Rook Attacks</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Forum Posts"><span class="tocnumber">5</span> <span class="toctext">Forum Posts</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#References"><span class="tocnumber">6</span> <span class="toctext">References</span></a></li>
</ul>
</div>
<h1><span class="mw-headline" id="Queen_Attacks">Queen Attacks</span></h1>
<p>The general SISSY attack getter requires a 3-dimensional 1MByte lookup table, with pre-initialized attack bitboards indexed by 3-bit rank index, 6-bit square, 8-bit rank occupancy.
</p>
<pre>
U64 qss[8][64][256]; 

U64 queenAttacks(U64 occ, enumSquare sq) {  
  return                             
    qss[0][sq][ occ        &amp; 255] &amp;  
    qss[1][sq][(occ &gt;&gt;  8) &amp; 255] &amp;  
    qss[2][sq][(occ &gt;&gt; 16) &amp; 255] &amp;  
    qss[3][sq][(occ &gt;&gt; 24) &amp; 255] &amp;  
    qss[4][sq][(occ &gt;&gt; 32) &amp; 255] &amp;  
    qss[5][sq][(occ &gt;&gt; 40) &amp; 255] &amp;  
    qss[6][sq][(occ &gt;&gt; 48) &amp; 255] &amp;  
    qss[7][sq][(occ &gt;&gt; 56) &amp; 255]Â ;  
}
</pre>
<p>The following sample demonstrates how to determine queen attacks. The intersection of the eight split index addressed attack bitboards yields the desired queen attack bitboard (red squares attacked by queen, blue reset due to blocker):  
</p>
<div class="thumb tright"><div class="thumbinner" style="width:269px;"><a href="http://www.carinajorgensen.com/Chess/queensstar.php.html"><img alt="" class="thumbimage" height="262" src="images/5/59/Queen%27s_Star.jpg" width="267"/></a> <div class="thumbcaption"><div class="magnify"><a class="internal" href="File:Queen%27s Star.jpg.html" title="Enlarge"></a></div><a href="Category:Carina J%C3%B8rgensen.html" title="Category:Carina JÃ¸rgensen">Carina JÃ¸rgensen</a>, Queen's Star <sup class="reference" id="cite_ref-3"><a href="#cite note-3">[3]</a></sup></div></div></div>
<table class="fentt" style="font-size:24pt"><tr><td>Â </td><td class="cols">abcdefgh</td><td>Â </td></tr><tr><td class="rows">8<br/>7<br/>6<br/>5<br/>4<br/>3<br/>2<br/>1<br/></td><td class="board" style="width: 8em;"><div class="board"><div class="sq">Â îÂ <span class="brackets">î</span>Â îÂ <span class="braces">î</span><br/><span class="braces">î</span>Â î<span class="brackets">Â </span>îÂ <span class="braces">î</span>Â <br/>Â <span class="braces">î</span>Â <span class="brackets">î</span>Â <span class="brackets">î</span>Â î<br/>îÂ <span class="brackets">îÂ î</span>Â îÂ <br/><span class="brackets">Â îÂ </span><span class="parens">î</span><span class="brackets">Â î</span><span class="braces">Â î</span><br/>îÂ <span class="brackets">îÂ î</span>Â îÂ <br/>Â <span class="braces">î</span>Â <span class="brackets">î</span>Â <span class="brackets">î</span>Â î<br/><span class="braces">î</span>Â î<span class="braces">Â </span>îÂ <span class="brackets">î</span>Â <br/></div><div class="pcbg">Â Â Â Â Â Â Â î<br/>îÂ Â Â Â Â îÂ <br/>Â îÂ Â Â îÂ î<br/>Â Â îÂ Â Â Â Â <br/>Â Â Â îÂ îÂ Â <br/>îÂ îÂ Â Â Â Â <br/>Â îÂ îÂ Â îÂ <br/>Â Â Â Â Â Â Â Â <br/></div><div class="pcfg">Â Â Â Â Â Â Â â<br/>âÂ Â Â Â Â âÂ <br/>Â âÂ Â Â âÂ â<br/>Â Â âÂ Â Â Â Â <br/>Â Â Â âÂ âÂ Â <br/>âÂ âÂ Â Â Â Â <br/>Â âÂ âÂ Â âÂ <br/>Â Â Â Â Â Â Â Â <br/></div></div></td><td class="rows">8<br/>7<br/>6<br/>5<br/>4<br/>3<br/>2<br/>1<br/></td></tr><tr><td>Â </td><td class="cols">abcdefgh</td><td>Â </td></tr></table>
<pre>7k/q5p1/1p3p1p/2n5/3Q1N2/P1P5/1P1K2P1/8 w - - 
occ = 0x8041A20428054A00
</pre>
<pre>
    [7][d4][0x80]     [6][d4][0x41]     [5][d4][0xA2]     [4][d4][0x04]  
   . . . 1 . . . 1*  . . . 1 . . . 0   . . . 1 . . . 0   . . . 1 . . . 1
   1 . . 1 . . 1 .   1 . . 1 . . 1 .*  0 . . 1 . . 0 .   0 . . 1 . . 1 .
   . 1 . 1 . 1 . .   . 1 . 1 . 1 . .   . 1 . 1 . 1 . .*  . 0 . 1 . 1 . .
   . . 1 1 1 . . . &amp; . . 1 1 1 . . . &amp; . . 1 1 1 . . . &amp; . . 1 1 1 . . .* 
   1 1 1 Q 1 1 1 1   1 1 1 Q 1 1 1 1   1 1 1 Q 1 1 1 1   1 1 1 Q 1 1 1 1
   . . 1 1 1 . . .   . . 1 1 1 . . .   . . 1 1 1 . . .   . . 1 1 1 . . .
   . 1 . 1 . 1 . .   . 1 . 1 . 1 . .   . 1 . 1 . 1 . .   . 1 . 1 . 1 . .
   1 . . 1 . . 1 .   1 . . 1 . . 1 .   1 . . 1 . . 1 .   1 . . 1 . . 1 .

    [3][d4][0x28]     [2][d4][0x05]     [1][d4][0x4a]     [0][d4][0x00] 
   . . . 1 . . . 1   . . . 1 . . . 1   . . . 1 . . . 1   . . . 1 . . . 1
   1 . . 1 . . 1 .   1 . . 1 . . 1 .   1 . . 1 . . 1 .   1 . . 1 . . 1 .
   . 1 . 1 . 1 . .   . 1 . 1 . 1 . .   . 1 . 1 . 1 . .   . 1 . 1 . 1 . .
 &amp; . . 1 1 1 . . . &amp; . . 1 1 1 . . . &amp; . . 1 1 1 . . . &amp; . . 1 1 1 . . .
   1 1 1 Q 1 1 0 0*  1 1 1 Q 1 1 1 1   1 1 1 Q 1 1 1 1   1 1 1 Q 1 1 1 1
   . . 1 1 1 . . .   . . 1 1 1 . . .*  . . 1 1 1 . . .   . . 1 1 1 . . .
   . 1 . 1 . 1 . .   . 0 . 1 . 1 . .   . 1 . 1 . 1 . .*  . 1 . 1 . 1 . .
   1 . . 1 . . 1 .   0 . . 1 . . 1 .   0 . . 0 . . 1 .   1 . . 1 . . 1 .*
  
   . . . 1 . . . 0 
   0 . . 1 . . 0 . 
   . 0 . 1 . 1 . . 
 = . . 1 1 1 . . . 
   1 1 1 Q 1 1 0 0 
   . . 1 1 1 . . . 
   . 0 . 1 . 1 . . 
   0 . . 0 . . 1 . 
</pre>
<p>Since queens may appear on file A and H with attacks on that outer files, a reduction of the occupancy index range due to the <a href="First Rank Attacks.html#TheOuterSquares" title="First Rank Attacks">inner six bits</a> is not possible for queens.
We will elaborate on reducing occupancy index range possibilities for bishops and rooks later. However, for queens, one may skip the outer ranks if combined with 
a <a href="First Rank Attacks.html#AttacksOnAllRanks" title="First Rank Attacks">general rank lookup</a>.
</p>
<h1><span class="mw-headline" id="Union_Bitboard">Union Bitboard</span></h1>
<p>Rather then using shift/and instructions to get the rank-wise occupancies, and similar to <a href="Sherwin Bitboards.html" title="Sherwin Bitboards">Sherwin Bitboards</a>, one may use a <a href="C.html#Union" title="C">union</a> of a bitboard and a struct or array of eight <a href="Byte.html" title="Byte">bytes</a> (Portability concerning <a href="Endianness.html" title="Endianness">endianness</a> is an issue), to appear the code looking simpler.
</p>
<pre>
typedef unsigned char U08;
struct bb8 {U08 r1; U08 r2; U08 r3; U08 r4; U08 r5; U08 r6; U08 r7; U08 r8;};
union bbu {U64 b64; bb8 b08;};

U64 qss[8][64][256]; // 1M

U64 queenAttacks(U64 occ, enumSquare sq) {
  bbu o; o.b64 = occ;
  return 
    qss[0][sq][o.b08.r1] &amp;
    qss[1][sq][o.b08.r2] &amp;
    qss[2][sq][o.b08.r3] &amp;
    qss[3][sq][o.b08.r4] &amp;
    qss[4][sq][o.b08.r5] &amp;
    qss[5][sq][o.b08.r6] &amp;
    qss[6][sq][o.b08.r7] &amp;
    qss[7][sq][o.b08.r8];
}
</pre>
<p>Targeting <a href="X86-64.html" title="X86-64">X86-64</a>, the generated <a href="Assembly.html" title="Assembly">assembly</a> is likely similar to the above shift/and255 code <sup class="reference" id="cite_ref-4"><a href="#cite note-4">[4]</a></sup>.
</p>
<pre>
queenAttacks(unsigned long long, int):                     # @queenAttacks(unsigned long long, int)
        mov     rdx, rdi
        mov     rcx, rdi
        shr     rcx, 56
        movsxd  rsi, esi
        movzx   edi, dl
        shl     rsi, 11
        movzx   eax, dh
        mov     rax, qword ptr [rsi + 8*rax + qss+131072]
        and     rax, qword ptr [rsi + 8*rdi + qss]
        mov     rdi, rdx
        shr     rdi, 13
        and     edi, 2040
        and     rax, qword ptr [rsi + rdi + qss+262144]
        mov     rdi, rdx
        shr     rdi, 21
        and     edi, 2040
        and     rax, qword ptr [rsi + rdi + qss+393216]
        mov     rdi, rdx
        shr     rdi, 29
        and     edi, 2040
        and     rax, qword ptr [rsi + rdi + qss+524288]
        mov     rdi, rdx
        shr     rdi, 37
        and     edi, 2040
        and     rax, qword ptr [rsi + rdi + qss+655360]
        shr     rdx, 45
        and     edx, 2040
        and     rax, qword ptr [rsi + rdx + qss+786432]
        and     rax, qword ptr [rsi + 8*rcx + qss+917504]
        ret
</pre>
<h1><span class="mw-headline" id="Bishop_Attacks">Bishop Attacks</span></h1>
<p>Taking advantage of the <a href="First Rank Attacks.html#TheOuterSquares" title="First Rank Attacks">inner six bits</a> optimization for SISSY bishop attacks, but still much memory and computation compared to other techniques:
</p>
<pre>
U64 bss[6][64][64]; // 192 K

U64 bishopAttacks(U64 occ, enumSquare sq) {
  return
    bss[0][sq][(occ &gt;&gt;  9) &amp; 63] &amp;  // 2nd rank
    bss[1][sq][(occ &gt;&gt; 17) &amp; 63] &amp;  
    bss[2][sq][(occ &gt;&gt; 25) &amp; 63] &amp;  
    bss[3][sq][(occ &gt;&gt; 33) &amp; 63] &amp;  
    bss[4][sq][(occ &gt;&gt; 41) &amp; 63] &amp;  
    bss[5][sq][(occ &gt;&gt; 49) &amp; 63]Â ;  // 7th rank
}    
</pre>
<p>There is a more recent attempt to half the number of lookups by <a href="Martin Sedlak.html" title="Martin Sedlak">Martin Sedlak</a> but using much larger tables <sup class="reference" id="cite_ref-5"><a href="#cite note-5">[5]</a></sup>.
</p>
<h1><span class="mw-headline" id="Rook_Attacks">Rook Attacks</span></h1>
<p>If combined with the <a href="First Rank Attacks.html#AttacksOnAllRanks" title="First Rank Attacks">rank lookup</a> for SISSY fileAttacks only, one can dense the occupy index range to 2, considering only blockers on the same file.
</p>
<pre>
U64 rss[6][64][2];  // 6K

U64 fileAttacks(U64 occ, enumSquare sq) { 
  occ &gt;&gt;= (sq &amp; 7); // shift occupancy to A file
  return
    rss[0][sq][(occ &gt;&gt;  8) &amp; 1] &amp;  // 2nd rank
    rss[1][sq][(occ &gt;&gt; 16) &amp; 1] &amp;  
    rss[2][sq][(occ &gt;&gt; 24) &amp; 1] &amp;  
    rss[3][sq][(occ &gt;&gt; 32) &amp; 1] &amp;  
    rss[4][sq][(occ &gt;&gt; 40) &amp; 1] &amp;  
    rss[5][sq][(occ &gt;&gt; 48) &amp; 1]Â ;  // 7th rank
}    
</pre>
<p>One may try some more index trickery for instance considering 3 ranks each, for an upper and lower half, 
</p>
<pre>
U64 rss[2][64][8];  // 8K

U64 fileAttacks(U64 occ, enumSquare sq) { 
  occ &gt;&gt;= (sq &amp; 7); // shift occupancy to A file
  return
    rss[0][sq][((occ&gt;&gt;22)&amp;4) | ((occ&gt;&gt;15)&amp;2) | ((occ&gt;&gt; 8)&amp;1)] &amp;  // rank 4,3,2
    rss[1][sq][((occ&gt;&gt;46)&amp;4) | ((occ&gt;&gt;39)&amp;2) | ((occ&gt;&gt;32)&amp;1)];   // rank 7,6,5
}
</pre>
<p>One step further, to combine the occupancy to one six-bit index is already quite similar to <a href="Kindergarten Bitboards.html#FileAttacks" title="Kindergarten Bitboards">Kindergarten File Attacks</a>, in particular <a href="Zach Wegner.html" title="Zach Wegner">Zach Wegner's</a> <a href="Kindergarten Bitboards.html#32-bit Versions" title="Kindergarten Bitboards">32-bit Version</a> <sup class="reference" id="cite_ref-6"><a href="#cite note-6">[6]</a></sup>
</p>
<h1><span class="mw-headline" id="Forum_Posts">Forum Posts</span></h1>
<ul><li> <a class="external text" href="http://www.talkchess.com/forum3/viewtopic.php?f=7&amp;t=73063.html" rel="nofollow">New RookAttacks() - possibly</a> by <a href="Michael Sherwin.html" title="Michael Sherwin">Michael Sherwin</a>, <a href="CCC.html" title="CCC">CCC</a>, February 12, 2020</li>
<li> <a class="external text" href="http://www.talkchess.com/forum3/viewtopic.php?f=7&amp;t=73083.html" rel="nofollow">Split Index Super Set Yielding (SISSY) Bitboards</a> by <a href="Michael Sherwin.html" title="Michael Sherwin">Michael Sherwin</a>, <a href="CCC.html" title="CCC">CCC</a>, February 13, 2020</li></ul>
<dl><dd> <a class="external text" href="http://www.talkchess.com/forum3/viewtopic.php?f=7&amp;t=73083&amp;start=46.html" rel="nofollow">Re: Split Index Super Set Yielding (SISSY) Bitboards</a> by <a href="Michael Sherwin.html" title="Michael Sherwin">Michael Sherwin</a>, <a href="CCC.html" title="CCC">CCC</a>, February 13, 2021</dd>
<dd> <a class="external text" href="http://www.talkchess.com/forum3/viewtopic.php?f=7&amp;t=73083&amp;start=55.html" rel="nofollow">Re: Split Index Super Set Yielding (SISSY) Bitboards</a> by <a href="Martin Sedlak.html" title="Martin Sedlak">Martin Sedlak</a>, <a href="CCC.html" title="CCC">CCC</a>, February 14, 2021</dd></dl>
<h1><span class="mw-headline" id="References">References</span></h1>
<div class="mw-references-wrap"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite ref-1">â</a></span> <span class="reference-text"><a href="Category:Paul Klee.html" title="Category:Paul Klee">Paul Klee</a> - <a class="external text" href="https://commons.wikimedia.org/wiki/File:Paul_Klee,_Hauptweg_und_Nebenwege,_1929,_%C3%96l_auf_Leinwand,_83,7_x_67,5_cm,_Museum_Ludwig_1976.jpg" rel="nofollow">Hauptweg und Nebenwege</a>, 1929, <a class="external text" href="https://en.wikipedia.org/wiki/Wikimedia_Commons" rel="nofollow">Wikimedia Commons</a>, <a class="external text" href="https://en.wikipedia.org/wiki/Museum_Ludwig" rel="nofollow">Museum Ludwig</a></span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><a href="#cite ref-2">â</a></span> <span class="reference-text"><a class="external text" href="http://www.talkchess.com/forum3/viewtopic.php?f=7&amp;t=73083.html" rel="nofollow">Split Index Super Set Yielding (SISSY) Bitboards</a> by <a href="Michael Sherwin.html" title="Michael Sherwin">Michael Sherwin</a>, <a href="CCC.html" title="CCC">CCC</a>, February 13, 2020</span>
</li>
<li id="cite_note-3"><span class="mw-cite-backlink"><a href="#cite ref-3">â</a></span> <span class="reference-text"><a class="external text" href="http://www.carinajorgensen.com/Chess/queensstar.php.html" rel="nofollow">Queen's Star</a> 2009 by <a href="Category:Carina J%C3%B8rgensen.html" title="Category:Carina JÃ¸rgensen">Carina JÃ¸rgensen</a></span>
</li>
<li id="cite_note-4"><span class="mw-cite-backlink"><a href="#cite ref-4">â</a></span> <span class="reference-text"><a class="external text" href="https://godbolt.org/" rel="nofollow">Compiler Explorer</a> with x86-64 clang (experimental - Wlifetime), -O3</span>
</li>
<li id="cite_note-5"><span class="mw-cite-backlink"><a href="#cite ref-5">â</a></span> <span class="reference-text"><a class="external text" href="http://www.talkchess.com/forum3/viewtopic.php?f=7&amp;t=73083&amp;start=55.html" rel="nofollow">Re: Split Index Super Set Yielding (SISSY) Bitboards</a> by <a href="Martin Sedlak.html" title="Martin Sedlak">Martin Sedlak</a>, <a href="CCC.html" title="CCC">CCC</a>, February 14, 2021</span>
</li>
<li id="cite_note-6"><span class="mw-cite-backlink"><a href="#cite ref-6">â</a></span> <span class="reference-text"><a class="external text" href="http://www.open-aurec.com/wbforum/viewtopic.php?topic view=threads&amp;p=26851&amp;t=4523.html" rel="nofollow">Zach's tricky 32-bit approach</a> by <a href="Zach Wegner.html" title="Zach Wegner">Zach Wegner</a>, <a href="Computer Chess Forums.html" title="Computer Chess Forums">Winboard Forum</a>, August 22, 2006</span>
</li>
</ol></div>
<p><b><a href="Sliding Piece Attacks.html" title="Sliding Piece Attacks">Up one Level</a></b>
</p>
<!-- 
NewPP limit report
Cached time: 20240722150938
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.076 seconds
Real time usage: 0.925 seconds
Preprocessor visited node count: 187/1000000
Preprocessor generated node count: 408/1000000
Postâexpand include size: 243/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.936      1 Template:MappingHint
100.00%    0.936      1 -total
-->
</div>
<!-- Saved in parser cache with key oscar70_mw1-mw_:pcache:idhash:6855-0!canonical and timestamp 20240722150937 and revision id 23641
 -->
</div> <div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://www.chessprogramming.org/index.php?title=SISSY_Bitboards&amp;oldid=23641">https://www.chessprogramming.org/index.php?title=SISSY_Bitboards&amp;oldid=23641</a>"					</div>
<div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a href="Special:Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category:Paul Klee.html" title="Category:Paul Klee">Paul Klee</a></li><li><a href="Category:Carina J%C3%B8rgensen.html" title="Category:Carina JÃ¸rgensen">Carina JÃ¸rgensen</a></li></ul></div></div> <div class="visualClear"></div>
</div>
</div>
<div id="mw-navigation">
<h2>Navigation menu</h2>
<div id="mw-head">
<div aria-labelledby="p-personal-label" class="" id="p-personal" role="navigation">
<h3 id="p-personal-label">Personal tools</h3>
<ul>
<li id="pt-login"><a accesskey="o" href="index.php?title=Special:UserLogin&amp;returnto=SISSY+Bitboards&amp;returntoquery=printable%3Dyes.html" title="You are encouraged to log in; however, it is not mandatory [o]">Log in</a></li> </ul>
</div>
<div id="left-navigation">
<div aria-labelledby="p-namespaces-label" class="vectorTabs" id="p-namespaces" role="navigation">
<h3 id="p-namespaces-label">Namespaces</h3>
<ul>
<li class="selected" id="ca-nstab-main"><span><a accesskey="c" href="SISSY Bitboards.html" title="View the content page [c]">Page</a></span></li>
<li class="new" id="ca-talk"><span><a accesskey="t" href="index.php?title=Talk:SISSY Bitboards&amp;action=edit&amp;redlink=1.html" rel="discussion" title="Discussion about the content page [t]">Discussion</a></span></li>
</ul>
</div>
<div aria-labelledby="p-variants-label" class="vectorMenu emptyPortlet" id="p-variants" role="navigation">
<h3 id="p-variants-label">
<span>Variants</span>
</h3>
<div class="menu">
<ul>
</ul>
</div>
</div>
</div>
<div id="right-navigation">
<div aria-labelledby="p-views-label" class="vectorTabs" id="p-views" role="navigation">
<h3 id="p-views-label">Views</h3>
<ul>
<li class="selected" id="ca-view"><span><a href="SISSY Bitboards.html">Read</a></span></li>
<li id="ca-viewsource"><span><a accesskey="e" href="index.php?title=SISSY Bitboards&amp;action=edit.html" title="This page is protected.
You can view its source [e]">View source</a></span></li>
<li class="collapsible" id="ca-history"><span><a accesskey="h" href="index.php?title=SISSY Bitboards&amp;action=history.html" title="Past revisions of this page [h]">View history</a></span></li>
</ul>
</div>
<div aria-labelledby="p-cactions-label" class="vectorMenu emptyPortlet" id="p-cactions" role="navigation">
<h3 id="p-cactions-label"><span>More</span></h3>
<div class="menu">
<ul>
</ul>
</div>
</div>
<div id="p-search" role="search">
<h3>
<label for="searchInput">Search</label>
</h3>
<form action="/index.php" id="searchform">
<div id="simpleSearch">
<input accesskey="f" id="searchInput" name="search" placeholder="Search Chessprogramming wiki" title="Search Chessprogramming wiki [f]" type="search"/><input name="title" type="hidden" value="Special:Search"/><input class="searchButton mw-fallbackSearchButton" id="mw-searchButton" name="fulltext" title="Search the pages for this text" type="submit" value="Search"/><input class="searchButton" id="searchButton" name="go" title="Go to a page with this exact name if it exists" type="submit" value="Go"/> </div>
</form>
</div>
</div>
</div>
<div id="mw-panel">
<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main Page.html" title="Visit the main page"></a></div>
<div aria-labelledby="p-navigation-label" class="portal" id="p-navigation" role="navigation">
<h3 id="p-navigation-label">Navigation</h3>
<div class="body">
<ul>
<li id="n-mainpage-description"><a accesskey="z" href="Main Page.html" title="Visit the main page [z]">Main page</a></li><li id="n-recentchanges"><a accesskey="r" href="Special:RecentChanges.html" title="A list of recent changes in the wiki [r]">Recent changes</a></li><li id="n-randompage"><a accesskey="x" href="Special:Random.html" title="Load a random page [x]">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li> </ul>
</div>
</div>
<div aria-labelledby="p-tb-label" class="portal" id="p-tb" role="navigation">
<h3 id="p-tb-label">Tools</h3>
<div class="body">
<ul>
<li id="t-whatlinkshere"><a accesskey="j" href="Special:WhatLinksHere/SISSY Bitboards.html" title="A list of all wiki pages that link here [j]">What links here</a></li><li id="t-recentchangeslinked"><a accesskey="k" href="Special:RecentChangesLinked/SISSY Bitboards.html" rel="nofollow" title="Recent changes in pages linked from this page [k]">Related changes</a></li><li id="t-specialpages"><a accesskey="q" href="Special:SpecialPages.html" title="A list of all special pages [q]">Special pages</a></li><li id="t-permalink"><a href="index.php?title=SISSY Bitboards&amp;oldid=23641.html" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="index.php?title=SISSY Bitboards&amp;action=info.html" title="More information about this page">Page information</a></li> </ul>
</div>
</div>
</div>
</div>
<div id="footer" role="contentinfo">
<ul id="footer-info">
<li id="footer-info-lastmod"> This page was last edited on 14 February 2021, at 09:57.</li>
<li id="footer-info-copyright">Content is available under <a href="Chessprogramming:About.html" title="Chessprogramming:About">Creative Commons Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0)</a> unless otherwise noted.</li>
</ul>
<ul id="footer-places">
<li id="footer-places-privacy"><a href="Chessprogramming:Privacy policy.html" title="Chessprogramming:Privacy policy">Privacy policy</a></li>
<li id="footer-places-about"><a href="Chessprogramming:About.html" title="Chessprogramming:About">About Chessprogramming wiki</a></li>
<li id="footer-places-disclaimer"><a href="Chessprogramming:General disclaimer.html" title="Chessprogramming:General disclaimer">Disclaimers</a></li>
<li id="footer-places-mobileview"><a class="noprint stopMobileRedirectToggle" href="https://www.chessprogramming.org/index.php?title=SISSY_Bitboards&amp;printable=yes&amp;mobileaction=toggle_view_mobile">Mobile view</a></li>
</ul>
<ul class="noprint" id="footer-icons">
<li id="footer-copyrightico">
<a href="https://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0)" height="31" src="images/cc-by-sa.png" width="88"/></a> </li>
<li id="footer-poweredbyico">
<a href="/www.mediawiki.org/.html"><img alt="Powered by MediaWiki" height="31" src="resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88"/></a> </li>
</ul>
<div style="clear:both"></div>
</div>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.076","walltime":"0.925","ppvisitednodes":{"value":187,"limit":1000000},"ppgeneratednodes":{"value":408,"limit":1000000},"postexpandincludesize":{"value":243,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"timingprofile":["100.00%    0.936      1 Template:MappingHint","100.00%    0.936      1 -total"]},"cachereport":{"timestamp":"20240722150938","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":44});});</script>
</body>
</html>
