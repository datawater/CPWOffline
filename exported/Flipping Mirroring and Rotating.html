<!DOCTYPE html>

<html class="client-nojs" dir="ltr" lang="en">
<head>
<meta charset="utf-8"/>
<title>Flipping Mirroring and Rotating - Chessprogramming wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Flipping_Mirroring_and_Rotating","wgTitle":"Flipping Mirroring and Rotating","wgCurRevisionId":9360,"wgRevisionId":9360,"wgArticleId":1097,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Barbara Mittman","Simon Phillips","Lee Ritenour","Mike Stern"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Flipping_Mirroring_and_Rotating","wgRelevantArticleId":1097,"wgRequestId":"Zp7DVP-qaMe6EU8WbZGgVAAAAAs","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgPreferredVariant":"en","wgMFExpandAllSectionsUserOption":false,"wgMFDisplayWikibaseDescriptions":{"search":false,"nearby":false,"watchlist":false,"tagline":false}});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","ext.cite.styles":"ready","ext.embedVideo.styles":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.options@0bhc5ha",function($,jQuery,require,module){mw.user.options.set([]);});mw.loader.implement("user.tokens@0kthzed",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/

});mw.loader.load(["ext.cite.a11y","ext.embedVideo","site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link href="/load.php?debug=false&amp;lang=en&amp;modules=ext.cite.styles%7Cext.embedVideo.styles%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles&amp;only=styles&amp;printable=1&amp;skin=vector" rel="stylesheet"/>
<script async="" src="/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;printable=1&amp;skin=vector"></script>
<meta content="" name="ResourceLoaderDynamicStyles"/>
<link href="/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;printable=1&amp;skin=vector" rel="stylesheet"/>
<meta content="MediaWiki 1.30.1" name="generator"/>
<meta content="noindex,follow" name="robots"/>
<link href="/images/favicon.ico" rel="shortcut icon"/>
<link href="/opensearch_desc.php" rel="search" title="Chessprogramming wiki (en)" type="application/opensearchdescription+xml"/>
<link href="https://www.chessprogramming.org/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link href="/Chessprogramming:About" rel="license"/>
<link href="/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate" title="Chessprogramming wiki Atom feed" type="application/atom+xml"/>
<!--[if lt IE 9]><script src="/resources/lib/html5shiv/html5shiv.min.js?40bd4"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Flipping_Mirroring_and_Rotating rootpage-Flipping_Mirroring_and_Rotating skin-vector action-view"> <div class="noprint" id="mw-page-base"></div>
<div class="noprint" id="mw-head-base"></div>
<div class="mw-body" id="content" role="main">
<a id="top"></a>
<div class="mw-indicators mw-body-content">
</div>
<h1 class="firstHeading" id="firstHeading" lang="en">Flipping Mirroring and Rotating</h1>
<div class="mw-body-content" id="bodyContent">
<div class="noprint" id="siteSub">From Chessprogramming wiki</div>
<div id="contentSub"></div>
<div class="mw-jump" id="jump-to-nav">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
</div>
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><p><b><a href="Main Page.html" title="Main Page">Home</a> * <a href="Board Representation.html" title="Board Representation">Board Representation</a> * <a href="Bitboards.html" title="Bitboards">Bitboards</a> * Flipping, Mirroring and Rotating</b>
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="http://www.barbaramittman.com/Site/Fore 4.html.html"><img alt="" class="thumbimage" height="205" src="images/thumb/8/88/Forever_IV.jpg/300px-Forever_IV.jpg" srcset="/images/8/88/Forever_IV.jpg 1.5x" width="300"/></a> <div class="thumbcaption"><div class="magnify"><a class="internal" href="File:Forever IV.jpg.html" title="Enlarge"></a></div><a href="Category:Barbara Mittman.html" title="Category:Barbara Mittman">Barbara Mittman</a>, Forever IV <sup class="reference" id="cite_ref-1"><a href="#cite note-1">[1]</a></sup></div></div></div>
<p><b>Flipping, Mirroring and Rotating</b><br/>
might be useful to transform bitboards in various ways. Considering the <a href="Chessboard.html#FourFoldSymmetry" title="Chessboard">fourfold symmetry</a> of the <a href="Chessboard.html" title="Chessboard">chessboard</a>, the first paragraph covers the whole bitboard performing <a href="Bit-Twiddling.html" title="Bit-Twiddling">bit-twiddling</a>-techniques. Various multiplications to flip or mirror certain subsets of the bitboard like <a href="Files.html" title="Files">files</a>, <a href="Ranks.html" title="Ranks">ranks</a> and even <a href="Diagonals.html" title="Diagonals">diagonals</a> and <a href="Anti-Diagonals.html" title="Anti-Diagonals">anti-diagonals</a> are mentioned in the second section. 
</p>
<div class="toc" id="toc"><div class="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#The whole Bitboard"><span class="tocnumber">1</span> <span class="toctext">The whole Bitboard</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Flip and Mirror"><span class="tocnumber">1.1</span> <span class="toctext">Flip and Mirror</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#Vertical"><span class="tocnumber">1.1.1</span> <span class="toctext">Vertical</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="#Horizontal"><span class="tocnumber">1.1.2</span> <span class="toctext">Horizontal</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Generalized"><span class="tocnumber">1.1.3</span> <span class="toctext">Generalized</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Diagonal"><span class="tocnumber">1.1.4</span> <span class="toctext">Diagonal</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Anti-Diagonal"><span class="tocnumber">1.1.5</span> <span class="toctext">Anti-Diagonal</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#Rotating"><span class="tocnumber">1.2</span> <span class="toctext">Rotating</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#By 180 degrees - Bit-Reversal"><span class="tocnumber">1.2.1</span> <span class="toctext">By 180 degrees - Bit-Reversal</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#By 90 degrees Clockwise"><span class="tocnumber">1.2.2</span> <span class="toctext">By 90 degrees Clockwise</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#By 90 degrees Anti-Clockwise"><span class="tocnumber">1.2.3</span> <span class="toctext">By 90 degrees Anti-Clockwise</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#Pseudo-Rotation by 45 degrees"><span class="tocnumber">1.3</span> <span class="toctext">Pseudo-Rotation by 45 degrees</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Clockwise"><span class="tocnumber">1.3.1</span> <span class="toctext">Clockwise</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Anti-Clockwise"><span class="tocnumber">1.3.2</span> <span class="toctext">Anti-Clockwise</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Rank.2C File and Diagonal"><span class="tocnumber">2</span> <span class="toctext">Rank, File and Diagonal</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#Flip about the Anti-Diagonal"><span class="tocnumber">2.1</span> <span class="toctext">Flip about the Anti-Diagonal</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#File to a Rank"><span class="tocnumber">2.1.1</span> <span class="toctext">File to a Rank</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Rank to File"><span class="tocnumber">2.1.2</span> <span class="toctext">Rank to File</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-19"><a href="#Flip about the Diagonal"><span class="tocnumber">2.2</span> <span class="toctext">Flip about the Diagonal</span></a>
<ul>
<li class="toclevel-3 tocsection-20"><a href="#File to a Rank 2"><span class="tocnumber">2.2.1</span> <span class="toctext">File to a Rank</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-21"><a href="#Diagonals to Ranks"><span class="tocnumber">2.3</span> <span class="toctext">Diagonals to Ranks</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Mirror Horizontally"><span class="tocnumber">2.4</span> <span class="toctext">Mirror Horizontally</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="#See also"><span class="tocnumber">3</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1 tocsection-24"><a href="#Publications"><span class="tocnumber">4</span> <span class="toctext">Publications</span></a></li>
<li class="toclevel-1 tocsection-25"><a href="#Forum Posts"><span class="tocnumber">5</span> <span class="toctext">Forum Posts</span></a></li>
<li class="toclevel-1 tocsection-26"><a href="#External Links"><span class="tocnumber">6</span> <span class="toctext">External Links</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#Flipping"><span class="tocnumber">6.1</span> <span class="toctext">Flipping</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Mirroring"><span class="tocnumber">6.2</span> <span class="toctext">Mirroring</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Rotation"><span class="tocnumber">6.3</span> <span class="toctext">Rotation</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Reflection"><span class="tocnumber">6.4</span> <span class="toctext">Reflection</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Smoke .27n.27 Mirrors"><span class="tocnumber">6.5</span> <span class="toctext">Smoke 'n' Mirrors</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-32"><a href="#References"><span class="tocnumber">7</span> <span class="toctext">References</span></a></li>
</ul>
</div>
<h1><span class="mw-headline" id="The_whole_Bitboard">The whole Bitboard</span></h1>
<p>Following <a href="C.html" title="C">C</a>-routines perform <a href="Parallel Prefix Algorithms.html" title="Parallel Prefix Algorithms">parallel prefix algorithms</a> to <a href="General Setwise Operations.html#SwappingBits" title="General Setwise Operations">swap bits</a> in various ways. They are not intended to use extensively inside a chess program - e.g. to implement <a href="Rotated Bitboards.html" title="Rotated Bitboards">rotated</a> or <a href="Reverse Bitboards.html" title="Reverse Bitboards">reverse bitboards</a> on the fly - but may be used for initialization purposes. They may convert sets between the eight different <a href="Square Mapping Considerations.html" title="Square Mapping Considerations">square mappings</a>, considering rank-file or file-rank <a href="Endianness.html" title="Endianness">endianness</a>. An exception might be the vertical flipping, which could be done by one fast <a href="X86-64.html" title="X86-64">x86-64</a> byteswap (<a href="X86-64.html#gpinstructions" title="X86-64">bswap</a>) instruction <sup class="reference" id="cite_ref-2"><a href="#cite note-2">[2]</a></sup> . See the bswap-application of <a href="Hyperbola Quintessence.html" title="Hyperbola Quintessence">hyperbola quintessence</a> to determine vertical or diagonal sliding attacks. Flipping, mirroring and rotating is distributive over the basic bitwise operations such as intersection, union, one's complement and xor, as demonstrated in hyperbola quintessence as well.
</p><p>Beside portable routines, there are optimized routines taking advantage of compiler intrinsics, to use <a href="X86-64.html" title="X86-64">x86-64</a> processor instructions like byteswap (bswap) as mentioned and rotate (<a href="X86-64.html#gpinstructions" title="X86-64">ror, rol</a>) <sup class="reference" id="cite_ref-3"><a href="#cite note-3">[3]</a></sup> .
</p>
<h2><span class="mw-headline" id="Flip_and_Mirror">Flip and Mirror</span></h2>
<p>This is about
</p>
<ul><li> <a href="#FlipVertically">flipping vertically</a></li>
<li> <a href="#MirrorHorizontally">mirroring horizontally</a></li>
<li> <a href="#FlipabouttheDiagonal">flipping along the diagonal</a></li>
<li> <a href="#FlipabouttheAntidiagonal">flipping along the antidiagonal</a></li></ul>
<pre>
. 1 1 1 1 . . .   . 1 1 1 1 . . .   . 1 1 1 1 . . .   . 1 1 1 1 . . .
. 1 . . . 1 . .   . 1 . . . 1 . .   . 1 . . . 1 . .   . 1 . . . 1 . .
. 1 . . . 1 . .   . 1 . . . 1 . .   . 1 . . . 1 . .   . 1 . . . 1 . .
. 1 . . 1 . . .   . 1 . . 1 . . .   . 1 . . 1 . . .   . 1 . . 1 . . .
. 1 1 1 . . . .   . 1 1 1 . . . .   . 1 1 1 . . . .   . 1 1 1 . . . .
. 1 . 1 . . . .   . 1 . 1 . . . .   . 1 . 1 . . . .   . 1 . 1 . . . .
. 1 . . 1 . . .   . 1 . . 1 . . .   . 1 . . 1 . . .   . 1 . . 1 . . .
. 1 . . . 1 . .   . 1 . . . 1 . .   . 1 . . . 1 . .   . 1 . . . 1 . .
       -                 |                  /               \
 flipVertical     mirrorHorizontal  flipDiagA1H8      flipDiagA8H1
       -                 |                /                   \
. 1 . . . 1 . .   . . . 1 1 1 1 .   . . . . . . . .   . . . . . . . .
. 1 . . 1 . . .   . . 1 . . . 1 .   . . . . . . . .   1 1 1 1 1 1 1 1
. 1 . 1 . . . .   . . 1 . . . 1 .   1 . . . . 1 1 .   1 . . . 1 . . .
. 1 1 1 . . . .   . . . 1 . . 1 .   . 1 . . 1 . . 1   1 . . . 1 1 . .
. 1 . . 1 . . .   . . . . 1 1 1 .   . . 1 1 . . . 1   1 . . 1 . . 1 .
. 1 . . . 1 . .   . . . . 1 . 1 .   . . . 1 . . . 1   . 1 1 . . . . 1
. 1 . . . 1 . .   . . . 1 . . 1 .   1 1 1 1 1 1 1 1   . . . . . . . .
. 1 1 1 1 . . .   . . 1 . . . 1 .   . . . . . . . .   . . . . . . . .
</pre>
<p><span id="FlipVertically"></span>
</p>
<h3><span class="mw-headline" id="Vertical">Vertical</span></h3>
<pre>
. 1 1 1 1 . . .     . 1 . . . 1 . .
. 1 . . . 1 . .     . 1 . . 1 . . .
. 1 . . . 1 . .     . 1 . 1 . . . .
. 1 . . 1 . . .     . 1 1 1 . . . .
. 1 1 1 . . . .     . 1 . . 1 . . .
. 1 . 1 . . . .     . 1 . . . 1 . .
. 1 . . 1 . . .     . 1 . . . 1 . .
. 1 . . . 1 . .     . 1 1 1 1 . . .
</pre>
<p>Flipping a bitboard <b>vertical</b> reverses all eight bytes - it performs a little- big-endian conversion or vice versa. A scalar square may be flipped vertically by xor 56.
</p>
<pre>
sq' = sq ^ 56;
</pre>
<p>The obvious approach with 21 operations, note that the shifts by 56 don't need masks:
</p>
<pre>
/**
 * Flip a bitboard vertically about the centre ranks.
 * Rank 1 is mapped to rank 8 and vice versa.
 * @param x any bitboard
 * @return bitboard x flipped vertically
 */
U64 flipVertical(U64 x) {
    return  ( (x &lt;&lt; 56)                           ) |
            ( (x &lt;&lt; 40) &amp; C64(0x00ff000000000000) ) |
            ( (x &lt;&lt; 24) &amp; C64(0x0000ff0000000000) ) |
            ( (x &lt;&lt;  8) &amp; C64(0x000000ff00000000) ) |
            ( (x &gt;&gt;  8) &amp; C64(0x00000000ff000000) ) |
            ( (x &gt;&gt; 24) &amp; C64(0x0000000000ff0000) ) |
            ( (x &gt;&gt; 40) &amp; C64(0x000000000000ff00) ) |
            ( (x &gt;&gt; 56) );
}
</pre>
<p><span id="parallelPrefixFlip"></span>
The <a href="Parallel Prefix Algorithms.html" title="Parallel Prefix Algorithms">parallel prefix</a>-approach takes 13 operations, to swap bytes, words and double-words in a <a href="SIMD and SWAR Techniques.html" title="SIMD and SWAR Techniques">SWAR-wise</a> manner, performing three <a href="General Setwise Operations.html#DeltaSwap" title="General Setwise Operations">delta swaps</a>:
</p>
<pre>
/**
 * Flip a bitboard vertically about the centre ranks.
 * Rank 1 is mapped to rank 8 and vice versa.
 * @param x any bitboard
 * @return bitboard x flipped vertically
 */
U64 flipVertical(U64 x) {
   const U64 k1 = C64(0x00FF00FF00FF00FF);
   const U64 k2 = C64(0x0000FFFF0000FFFF);
   x = ((x &gt;&gt;  8) &amp; k1) | ((x &amp; k1) &lt;&lt;  8);
   x = ((x &gt;&gt; 16) &amp; k2) | ((x &amp; k2) &lt;&lt; 16);
   x = ( x &gt;&gt; 32)       | ( x       &lt;&lt; 32);
   return x;
}
</pre>
<p>Using the <a href="X86-64.html" title="X86-64">x86-64</a> <a href="X86-64.html#gpinstructions" title="X86-64">_byteswap_uint64</a> or bswap64 intrinsics only takes one processor instruction in 64-bit mode.
</p>
<pre>
/**
 * Flip a bitboard vertically about the centre ranks.
 * Rank 1 is mapped to rank 8 and vice versa.
 * @param x any bitboard
 * @return bitboard x flipped vertically
 */
U64 flipVertical(U64 x) {
   return _byteswap_uint64(x);
}
</pre>
<p><span id="MirrorHorizontally"></span>
</p>
<h3><span class="mw-headline" id="Horizontal">Horizontal</span></h3>
<pre>
. 1 1 1|1 . . .     . . . 1 1 1 1 .
. 1 . . . 1 . .     . . 1 . . . 1 .
. 1 . . . 1 . .     . . 1 . . . 1 .
. 1 . . 1 . . .     . . . 1 . . 1 .
. 1 1 1 . . . .     . . . . 1 1 1 .
. 1 . 1 . . . .     . . . . 1 . 1 .
. 1 . . 1 . . .     . . . 1 . . 1 .
. 1 . .|. 1 . .     . . 1 . . . 1 .
</pre>
<p>Horizontal mirroring reverses the bits of each byte. A scalar square may be mirrored horizontally by xor 7.
</p>
<pre>
sq' = sq ^ 7;
</pre>
<p>The <a href="Parallel Prefix Algorithms.html" title="Parallel Prefix Algorithms">parallel prefix</a>-algorithm swaps bits, bit-duos and <a href="Nibble.html" title="Nibble">nibbles</a> in a <a href="SIMD and SWAR Techniques.html" title="SIMD and SWAR Techniques">SWAR-wise</a> manner, performing three <a href="General Setwise Operations.html#DeltaSwap" title="General Setwise Operations">delta swaps</a>, 15 operations:
</p>
<pre>
/**
 * Mirror a bitboard horizontally about the center files.
 * File a is mapped to file h and vice versa.
 * @param x any bitboard
 * @return bitboard x mirrored horizontally
 */
U64 mirrorHorizontal (U64 x) {
   const U64 k1 = C64(0x5555555555555555);
   const U64 k2 = C64(0x3333333333333333);
   const U64 k4 = C64(0x0f0f0f0f0f0f0f0f);
   x = ((x &gt;&gt; 1) &amp; k1) | ((x &amp; k1) &lt;&lt; 1);
   x = ((x &gt;&gt; 2) &amp; k2) | ((x &amp; k2) &lt;&lt; 2);
   x = ((x &gt;&gt; 4) &amp; k4) | ((x &amp; k4) &lt;&lt; 4);
   return x;
}
</pre>
<p>Replacing bitwise 'or' of disjoint sets by 'add' and shift left by appropriate multiply - taking advantage of x86 lea instruction for multiplication with 2 and 4:
</p>
<pre>
/**
 * Mirror a bitboard horizontally about the center files.
 * File a is mapped to file h and vice versa.
 * @param x any bitboard
 * @return bitboard x mirrored horizontally
 */
U64 mirrorHorizontal (U64 x) {
   const U64 k1 = C64(0x5555555555555555);
   const U64 k2 = C64(0x3333333333333333);
   const U64 k4 = C64(0x0f0f0f0f0f0f0f0f);
   x = ((x &gt;&gt; 1) &amp; k1) +  2*(x &amp; k1);
   x = ((x &gt;&gt; 2) &amp; k2) +  4*(x &amp; k2);
   x = ((x &gt;&gt; 4) &amp; k4) + 16*(x &amp; k4);
   return x;
}
</pre>
<p>Using <a href="General Setwise Operations.html#Rotate" title="General Setwise Operations">rotates</a> instead of shifts in some clever way takes 13 operations (introduced by <a href="Steffan Westcott.html" title="Steffan Westcott">Steffan Westcott</a>). Disadvantage is each operation depends on the previous one, while the lea-approach gains some parallelism with same number of instructions.
</p>
<pre>
/**
 * Mirror a bitboard horizontally about the center files.
 * File a is mapped to file h and vice versa.
 * @param x any bitboard
 * @return bitboard x mirrored horizontally
 */
U64 mirrorHorizontal (U64 x) {
   const U64 k1 = C64(0x5555555555555555);
   const U64 k2 = C64(0x3333333333333333);
   const U64 k4 = C64(0x0f0f0f0f0f0f0f0f);
   x ^= k4 &amp; (x ^ rotateLeft(x, 8));
   x ^= k2 &amp; (x ^ rotateLeft(x, 4));
   x ^= k1 &amp; (x ^ rotateLeft(x, 2));
   return rotateRight(x, 7);
}
</pre>
<p><span id="Generalized"></span>
</p>
<h3><span class="mw-headline" id="Generalized">Generalized</span></h3>
<p>In <a href="Donald Knuth.html" title="Donald Knuth">Knuth's</a> <i><a class="external text" href="http://www-cs-faculty.stanford.edu/%7Eknuth/taocp.html.html" rel="nofollow">The Art of Computer Programming</a>, Volume 4, Fascicle 1: Bitwise tricks &amp; techniques</i>, page 9, Knuth interprets the <i>magic masks</i> as 2-<a class="external text" href="https://en.wikipedia.org/wiki/P-adic_number" rel="nofollow">adic</a> fractions <sup class="reference" id="cite_ref-4"><a href="#cite note-4">[4]</a></sup> :
</p>
<pre>
k1 = ...101010101010101010101010101010101 = -1/3
k2 = ...100110011001100110011001100110011 = -1/5
k4 = ...100001111000011110000111100001111 = -1/17
</pre>
<p>How the masks look on a chess board:
</p>
<pre>
k1                  k2                  k4
-1/3                -1/5                -1/17
0x5555555555555555  0x3333333333333333  0x0F0F0F0F0F0F0F0F
1 . 1 . 1 . 1 .     1 1 . . 1 1 . .     1 1 1 1 . . . .
1 . 1 . 1 . 1 .     1 1 . . 1 1 . .     1 1 1 1 . . . .
1 . 1 . 1 . 1 .     1 1 . . 1 1 . .     1 1 1 1 . . . .
1 . 1 . 1 . 1 .     1 1 . . 1 1 . .     1 1 1 1 . . . .
1 . 1 . 1 . 1 .     1 1 . . 1 1 . .     1 1 1 1 . . . .
1 . 1 . 1 . 1 .     1 1 . . 1 1 . .     1 1 1 1 . . . .
1 . 1 . 1 . 1 .     1 1 . . 1 1 . .     1 1 1 1 . . . .
1 . 1 . 1 . 1 .     1 1 . . 1 1 . .     1 1 1 1 . . . .
</pre>
<p>A parametrized flip, mirror or reverse (mirror and flip) might be generalized to let the compiler produce mentioned routines with flip or mirror as constant (or template) parameter. Otherwise, without compile time constants, the division at runtime is too expensive.
</p>
<pre>
/**
 * Flip, mirror or reverse a bitboard
 * @param x any bitboard
 * @param flip the bitboard
 * @param mirror the bitboard
 * @return bitboard x flipped, mirrored or reversed
 */
U64 flipMirrorOrReverse(U64 x, bool flip, bool mirror)
{
   for (U32 i = 3*(1-mirror); i &lt; 3*(1+flip); i++) {
      int s(      1  &lt;&lt; i);
      U64 f( C64( 1) &lt;&lt; s);
      U64 k( C64(-1) / (f+1) );
      x = ((x &gt;&gt; s) &amp; k) + f*(x &amp; k);
   }
   return x;
}
</pre>
<p>The loop variable 'i' runs from following ranges based on the boolean (0,1) parameters 'flip' and 'mirror':
</p>
<pre>
mirror:   for (U32 i = 0; i &lt; 3; i++)
flip:     for (U32 i = 3; i &lt; 6; i++)
reverse := mirror &amp;&amp; flip
          for (U32 i = 0; i &lt; 6; i++)
</pre>
<p>With following formula for the <a href="General Setwise Operations.html#DeltaSwap" title="General Setwise Operations">delta swaps</a> constants ...
</p>
<pre>
shift(i)  := s(i) := 1 &lt;&lt; i
factor(i) := f(i) := 1 &lt;&lt; s(i)
mask(i)   := k(i) := -1 / (f(i) + 1)
</pre>
<p>... and therefor following values for i = 0...5:
</p>
<pre>
s(0)  1
f(0)  2
k(0)  0x5555555555555555 = 0xffffffffffffffff / (2+1)

s(1)  2
f(1)  4
k(1)  0x3333333333333333 = 0xffffffffffffffff / (4+1)

s(2)  4
f(2)  16
k(2)  0x0f0f0f0f0f0f0f0f = 0xffffffffffffffff / (16+1)

s(3)  8
f(3)  256
k(3)  0x00ff00ff00ff00ff = 0xffffffffffffffff / (256+1)

s(4)  16
f(4)  65536
k(4)  0x0000ffff0000ffff = 0xffffffffffffffff / (65536+1)

s(5)  32
f(5)  4294967296
k(5)  0x00000000ffffffff = 0xffffffffffffffff / (4294967296+1)
</pre>
<p><span id="FlipabouttheDiagonal"></span>
</p>
<h3><span class="mw-headline" id="Diagonal">Diagonal</span></h3>
<p><b>Flip about the Diagonal</b>
</p>
<pre>
. 1 1 1 1 . . /     . . . . . . . .
. 1 . . . 1 . .     . . . . . . . .
. 1 . . . 1 . .     1 . . . . 1 1 .
. 1 . . 1 . . .     . 1 . . 1 . . 1
. 1 1 1 . . . .     . . 1 1 . . . 1
. 1 . 1 . . . .     . . . 1 . . . 1
. 1 . . 1 . . .     1 1 1 1 1 1 1 1
/ 1 . . . 1 . .     . . . . . . . .
</pre>
<p>A scalar square needs to swap rank and file.
</p>
<pre>
sq' = ((sq &gt;&gt; 3) | (sq &lt;&lt; 3)) &amp; 63;
sq' = (sq * 0x20800000) &gt;&gt;&gt; 26; // unsigned 32-bit shift, zeros no sign bits from left
</pre>
<p>Performing three <a href="General Setwise Operations.html#DeltaSwap" title="General Setwise Operations">delta swaps</a>:
</p>
<pre>
/**
 * Flip a bitboard about the diagonal a1-h8.
 * Square h1 is mapped to a8 and vice versa.
 * @param x any bitboard
 * @return bitboard x flipped about diagonal a1-h8
 */
U64 flipDiagA1H8(U64 x) {
   U64 t;
   const U64 k1 = C64(0x5500550055005500);
   const U64 k2 = C64(0x3333000033330000);
   const U64 k4 = C64(0x0f0f0f0f00000000);
   t  = k4 &amp; (x ^ (x &lt;&lt; 28));
   x ^=       t ^ (t &gt;&gt; 28) ;
   t  = k2 &amp; (x ^ (x &lt;&lt; 14));
   x ^=       t ^ (t &gt;&gt; 14) ;
   t  = k1 &amp; (x ^ (x &lt;&lt;  7));
   x ^=       t ^ (t &gt;&gt;  7) ;
   return x;
}
</pre>
<p>How the masks look on a chess board:
</p>
<pre>
k1                  k2                  k4
0x5500550055005500  0x3333000033330000  0x0F0F0F0F00000000
1 . 1 . 1 . 1 .     1 1 . . 1 1 . .     1 1 1 1 . . . .
. . . . . . . .     1 1 . . 1 1 . .     1 1 1 1 . . . .
1 . 1 . 1 . 1 .     . . . . . . . .     1 1 1 1 . . . .
. . . . . . . .     . . . . . . . .     1 1 1 1 . . . .
1 . 1 . 1 . 1 .     1 1 . . 1 1 . .     . . . . . . . .
. . . . . . . .     1 1 . . 1 1 . .     . . . . . . . .
1 . 1 . 1 . 1 .     . . . . . . . .     . . . . . . . .
. . . . . . . .     . . . . . . . .     . . . . . . . .
</pre>
<p><span id="FlipabouttheAntidiagonal"></span>
</p>
<h3><span class="mw-headline" id="Anti-Diagonal">Anti-Diagonal</span></h3>
<p><b>Flip about the Anti-Diagonal</b>
</p>
<pre>
\ 1 1 1 1 . . .     . . . . . . . .
. 1 . . . 1 . .     1 1 1 1 1 1 1 1
. 1 . . . 1 . .     1 . . . 1 . . .
. 1 . . 1 . . .     1 . . . 1 1 . .
. 1 1 1 . . . .     1 . . 1 . . 1 .
. 1 . 1 . . . .     . 1 1 . . . . 1
. 1 . . 1 . . .     . . . . . . . .
. 1 . . . 1 . \     . . . . . . . .
</pre>
<p>Flip about the <a href="Anti-Diagonals.html" title="Anti-Diagonals">Anti-Diagonal</a> results in the bit-reversal of flip about the Diagonal.
Thus, a scalar square needs not only swap rank and file, but also xor 63.
</p>
<pre>
sq' = (((sq &gt;&gt; 3) | (sq &lt;&lt; 3)) &amp; 63) ^ 63;
sq' = ((sq * 0x20800000) &gt;&gt;&gt; 26) ^ 63;  // unsigned 32-bit shift
</pre>
<p>Performing three <a href="General Setwise Operations.html#DeltaSwap" title="General Setwise Operations">delta swaps</a>:
</p>
<pre>
/**
 * Flip a bitboard about the antidiagonal a8-h1.
 * Square a1 is mapped to h8 and vice versa.
 * @param x any bitboard
 * @return bitboard x flipped about antidiagonal a8-h1
 */
U64 flipDiagA8H1(U64 x) {
   U64 t;
   const U64 k1 = C64(0xaa00aa00aa00aa00);
   const U64 k2 = C64(0xcccc0000cccc0000);
   const U64 k4 = C64(0xf0f0f0f00f0f0f0f);
   t  =       x ^ (x &lt;&lt; 36) ;
   x ^= k4 &amp; (t ^ (x &gt;&gt; 36));
   t  = k2 &amp; (x ^ (x &lt;&lt; 18));
   x ^=       t ^ (t &gt;&gt; 18) ;
   t  = k1 &amp; (x ^ (x &lt;&lt;  9));
   x ^=       t ^ (t &gt;&gt;  9) ;
   return x;
}
</pre>
<p>How the masks look on a chess board:
</p>
<pre>
k1                  k2                  k4
0xAA00AA00AA00AA00  0xCCCC0000CCCC0000  0xF0F0F0F00F0F0F0F
. 1 . 1 . 1 . 1     . . 1 1 . . 1 1     . . . . 1 1 1 1
. . . . . . . .     . . 1 1 . . 1 1     . . . . 1 1 1 1
. 1 . 1 . 1 . 1     . . . . . . . .     . . . . 1 1 1 1
. . . . . . . .     . . . . . . . .     . . . . 1 1 1 1
. 1 . 1 . 1 . 1     . . 1 1 . . 1 1     1 1 1 1 . . . .
. . . . . . . .     . . 1 1 . . 1 1     1 1 1 1 . . . .
. 1 . 1 . 1 . 1     . . . . . . . .     1 1 1 1 . . . .
. . . . . . . .     . . . . . . . .     1 1 1 1 . . . .
</pre>
<p><span id="Rotation"></span>
</p>
<h2><span class="mw-headline" id="Rotating">Rotating</span></h2>
<p>This is about
</p>
<ul><li> <a href="#Rotationby180degrees">Rotation by 180 degrees</a></li>
<li> <a href="#Rotationby90degreesClockwise">Rotation by 90 degrees Clockwise</a></li>
<li> <a href="#Rotationby90degreesAnticlockwise">Rotation by 90 degrees Anti-Clockwise</a></li></ul>
<p>Rotation can be deduced from flipping and mirroring in various ways.
</p>
<pre>
                    mirrorHorizontal     flipDiagA1H8        flipDiagA8H1
. 1 1 1 1 . . .     . . . 1 1 1 1 .     . . . . . . . .     . . . . . . . .
. 1 . . . 1 . .     . . 1 . . . 1 .     . . . . . . . .     1 1 1 1 1 1 1 1
. 1 . . . 1 . .     . . 1 . . . 1 .     1 . . . . 1 1 .     1 . . . 1 . . .
. 1 . . 1 . . .     . . . 1 . . 1 .     . 1 . . 1 . . 1     1 . . . 1 1 . .
. 1 1 1 . . . .     . . . . 1 1 1 .     . . 1 1 . . . 1     1 . . 1 . . 1 .
. 1 . 1 . . . .     . . . . 1 . 1 .     . . . 1 . . . 1     . 1 1 . . . . 1
. 1 . . 1 . . .     . . . 1 . . 1 .     1 1 1 1 1 1 1 1     . . . . . . . .
. 1 . . . 1 . .     . . 1 . . . 1 .     . . . . . . . .     . . . . . . . .
 flipVertical         rotate180        rotate90clockwise rotate90antiClockwise
. 1 . . . 1 . .     . . 1 . . . 1 .     . . . . . . . .     . . . . . . . .
. 1 . . 1 . . .     . . . 1 . . 1 .     1 1 1 1 1 1 1 1     . . . . . . . .
. 1 . 1 . . . .     . . . . 1 . 1 .     . . . 1 . . . 1     . 1 1 . . . . 1
. 1 1 1 . . . .     . . . . 1 1 1 .     . . 1 1 . . . 1     1 . . 1 . . 1 .
. 1 . . 1 . . .     . . . 1 . . 1 .     . 1 . . 1 . . 1     1 . . . 1 1 . .
. 1 . . . 1 . .     . . 1 . . . 1 .     1 . . . . 1 1 .     1 . . . 1 . . .
. 1 . . . 1 . .     . . 1 . . . 1 .     . . . . . . . .     1 1 1 1 1 1 1 1
. 1 1 1 1 . . .     . . . 1 1 1 1 .     . . . . . . . .     . . . . . . . .
</pre>
<p><span id="Rotationby180degrees"></span>
</p>
<h3><span class="mw-headline" id="By_180_degrees_-_Bit-Reversal">By 180 degrees - Bit-Reversal</span></h3>
<pre>
. 1 1 1 1 . . .     . . 1 . . . 1 .
. 1 . . . 1 . .     . . . 1 . . 1 .
. 1 . . . 1 . .     . . . . 1 . 1 .
. 1 . . 1 . . .     . . . . 1 1 1 .
. 1 1 1 . . . .     . . . 1 . . 1 .
. 1 . 1 . . . .     . . 1 . . . 1 .
. 1 . . 1 . . .     . . 1 . . . 1 .
. 1 . . . 1 . .     . . . 1 1 1 1 .
</pre>
<p>Rotating by 180 degrees reverses all bits in a bitboard. A scalar square may be reversed by xor 63:
</p>
<pre>
sq' = sq ^ 63; // 63 - sq;
</pre>
<p>Deduced from <a href="#FlipVertically">flipping vertically</a> and <a href="#MirrorHorizontally">mirroring horizontally</a>. Both operation may be applied in different orders.
</p>
<pre>
/**
 * Rotate a bitboard by 180 degrees.
 * Square a1 is mapped to h8, and a8 is mapped to h1.
 * @param x any bitboard
 * @return bitboard x rotated 180 degrees
 */
U64 rotate180 (U64 x) {
   return mirrorHorizontal (flipVertical (x) );
}
</pre>
<p>The resulting code applies six <a href="General Setwise Operations.html#DeltaSwap" title="General Setwise Operations">delta swaps</a>:
</p>
<pre>
/**
 * Rotate a bitboard by 180 degrees.
 * Square a1 is mapped to h8, and a8 is mapped to h1.
 * @param x any bitboard
 * @return bitboard x rotated 180 degrees
 */
U64 rotate180 (U64 x) {
   const U64 h1 = C64 (0x5555555555555555);
   const U64 h2 = C64 (0x3333333333333333);
   const U64 h4 = C64 (0x0F0F0F0F0F0F0F0F);
   const U64 v1 = C64 (0x00FF00FF00FF00FF);
   const U64 v2 = C64 (0x0000FFFF0000FFFF);
   x = ((x &gt;&gt;  1) &amp; h1) | ((x &amp; h1) &lt;&lt;  1);
   x = ((x &gt;&gt;  2) &amp; h2) | ((x &amp; h2) &lt;&lt;  2);
   x = ((x &gt;&gt;  4) &amp; h4) | ((x &amp; h4) &lt;&lt;  4);
   x = ((x &gt;&gt;  8) &amp; v1) | ((x &amp; v1) &lt;&lt;  8);
   x = ((x &gt;&gt; 16) &amp; v2) | ((x &amp; v2) &lt;&lt; 16);
   x = ( x &gt;&gt; 32)       | ( x       &lt;&lt; 32);
   return x;
}
</pre>
<p><span id="Rotationby90degreesClockwise"></span>
</p>
<h3><span class="mw-headline" id="By_90_degrees_Clockwise">By 90 degrees Clockwise</span></h3>
<pre>
. 1 1 1 1 . . .     . . . . . . . .
. 1 . . . 1 . .     1 1 1 1 1 1 1 1
. 1 . . . 1 . .     . . . 1 . . . 1
. 1 . . 1 . . .     . . 1 1 . . . 1
. 1 1 1 . . . .     . 1 . . 1 . . 1
. 1 . 1 . . . .     1 . . . . 1 1 .
. 1 . . 1 . . .     . . . . . . . .
. 1 . . . 1 . .     . . . . . . . .
</pre>
<p>A scalar square swaps rank and file plus xor 56:
</p>
<pre>
sq' = (((sq &gt;&gt; 3) | (sq &lt;&lt; 3)) &amp; 63) ^ 56;
sq' = ((sq * 0x20800000) &gt;&gt;&gt; 26) ^ 56; // unsigned 32-bit shift
</pre>
<p>Deduced from <a href="#FlipVertically">flipping vertically</a> and <a href="#FlipabouttheAntidiagonal">flipping along the antidiagonal</a>.
</p>
<pre>
/**
 * Rotate a bitboard by 90 degrees clockwise.
 * @param x any bitboard
 * @return bitboard x rotated 90 degrees clockwise
 */
U64 rotate90clockwise (U64 x) {
   return flipVertical (flipDiagA1H8 (x) );
}
</pre>
<p>Note that
</p>
<pre>
flipVertical (flipDiagA1H8 (x) ) == flipDiagA8H1 (flipVertical (x) )
</pre>
<p><span id="Rotationby90degreesAnticlockwise"></span>
</p>
<h3><span class="mw-headline" id="By_90_degrees_Anti-Clockwise">By 90 degrees Anti-Clockwise</span></h3>
<pre>
. 1 1 1 1 . . .     . . . . . . . .
. 1 . . . 1 . .     . . . . . . . .
. 1 . . . 1 . .     . 1 1 . . . . 1
. 1 . . 1 . . .     1 . . 1 . . 1 .
. 1 1 1 . . . .     1 . . . 1 1 . .
. 1 . 1 . . . .     1 . . . 1 . . .
. 1 . . 1 . . .     1 1 1 1 1 1 1 1
. 1 . . . 1 . .     . . . . . . . .
</pre>
<p>A scalar square swaps rank and file plus xor 7:
</p>
<pre>
sq' = (((sq &gt;&gt; 3) | (sq &lt;&lt; 3)) &amp; 63) ^ 7;
sq' = ((sq * 0x20800000) &gt;&gt;&gt; 26) ^ 7;  // unsigned 32-bit shift
</pre>
<p>Deduced from <a href="#FlipVertically">flipping vertically</a> and <a href="#FlipabouttheDiagonal">flipping along the diagonal</a>.
</p>
<pre>
/**
 * Rotate a bitboard by 90 degrees anticlockwise.
 * @param x any bitboard
 * @return bitboard x rotated 90 degrees anticlockwise
 */
U64 rotate90antiClockwise (U64 x) {
   return flipDiagA1H8 (flipVertical (x) );
}
</pre>
<p>Note that
</p>
<pre>
flipDiagA1H8 (flipVertical (x) ) == flipVertical (flipDiagA8H1 (x) )
</pre>
<p><span id="PseudoRotationby45degrees"></span>
</p>
<h2><span class="mw-headline" id="Pseudo-Rotation_by_45_degrees">Pseudo-Rotation by 45 degrees</span></h2>
<p>The chess-board is four-fold symmetry - thus there is no real 45 degree rotation in the mathematical sense. Anyway we may map <a href="Diagonals.html" title="Diagonals">diagonals</a> and <a href="Anti-Diagonals.html" title="Anti-Diagonals">anti-diagonals</a> to <a href="Ranks.html" title="Ranks">ranks</a>, similar to <a href="Rotated Bitboards.html" title="Rotated Bitboards">rotated bitboards</a>.
</p>
<h3><span class="mw-headline" id="Clockwise">Clockwise</span></h3>
<p>The 15 <a href="Diagonals.html" title="Diagonals">diagonals</a> are enumerated by (file - rank) - <a href="Nibble.html" title="Nibble">nibble</a> wise <a href="General Setwise Operations.html#TheTwosComplement" title="General Setwise Operations">two's complement</a> F == (16) -1, 9 == (16) -7. Two shorter diagonals are file-aligned packed into one rank each. Note that the three lower bits are equal in each rank and bit three (the sign-bit inside a signed nibble) indicates a "negative" diagonal north the main diagonal.
</p>
<pre>
9 A B C D E F 0     9 1 1 1 1 1 1 1
A B C D E F 0 1     A A 2 2 2 2 2 2
B C D E F 0 1 2     B B B 3 3 3 3 3
C D E F 0 1 2 3     C C C C 4 4 4 4
D E F 0 1 2 3 4     D D D D D 5 5 5
E F 0 1 2 3 4 5     E E E E E E 6 6
F 0 1 2 3 4 5 6     F F F F F F F 7
0 1 2 3 4 5 6 7     0 0 0 0 0 0 0 0
</pre>
<p>We need to rotate the A-H files vertically by 0 to 7 ranks - done parallel prefix wise. One square is therefor mapped by:
</p>
<pre>
sq' = (sq + 8*(sq&amp;7)) &amp; 63;
</pre>
<p>The main-diagonal is rotated clockwise to the first rank - thus 45 degrees.
</p><p>On using xor, see <a href="General Setwise Operations.html#BitsFrom2SourcesByMask" title="General Setwise Operations">bits from two sources by a mask</a>. See <a href="General Setwise Operations.html#Rotate" title="General Setwise Operations">rotate</a> for the intrinsic routines.
</p>
<pre>
/**
 * Pseudo rotate a bitboard 45 degree clockwise.
 * Main Diagonal is mapped to 1st rank
 * @param x any bitboard
 * @return bitboard x rotated
 */
U64 pseudoRotate45clockwise (U64 x) {
   const U64 k1 = C64(0xAAAAAAAAAAAAAAAA);
   const U64 k2 = C64(0xCCCCCCCCCCCCCCCC);
   const U64 k4 = C64(0xF0F0F0F0F0F0F0F0);
   x ^= k1 &amp; (x ^ rotateRight(x,  8));
   x ^= k2 &amp; (x ^ rotateRight(x, 16));
   x ^= k4 &amp; (x ^ rotateRight(x, 32));
   return x;
}
</pre>
<p>Another pseudo rotation scheme was introduced by <a href="Robert Hyatt.html" title="Robert Hyatt">Robert Hyatt's</a> <a href="Rotated Bitboards.html" title="Rotated Bitboards">rotated bitboards</a> approach. While the 45 degree rotation looks more natural at the first glance, the calculations of this mapping is more complicated.
</p>
<pre>
normal chess board bitmap          45 clockwise               45 clockwise crafty

A8 B8 C8 D8 E8 F8 G8 H8                                       C7 D8|A6 B7 C8|A7 B8|A8|
A7 B7 C7 D7 E7 F7 G7 H7                  A8                   F8|A4 B5 C6 D7 E8|A5 B6
A6 B6 C6 D6 E6 F6 G6 H6                A7  B8                 E6 F7 G8|A3 B4 C5 D6 E7
A5 B5 C5 D5 E5 F5 G5 H5              A6  B7  C8               E5 F6 G7 H8|A2 B3 C4 D5
A4 B4 C4 D4 E4 F4 G4 H4            A5  B6  C7  D8             E4 F5 G6 H7|A1 B2 C3 D4
A3 B3 C3 D3 E3 F3 G3 H3          A4  B5  C6  D7  E8           D2 E3 F4 G5 H6|B1 C2 D3
A2 B2 C2 D2 E2 F2 G2 H2        A3  B4  C5  D6  E7  F8        |G3 H4|D1 E2 F3 G4 H5|C1
A1 B1 C1 D1 E1 F1 G1 H1      A2  B3  C4  D5  E6  F7  G8       H1|G1 H2|F1 G2 H3|E1 F2
                           A1  B2  C3  D4  E5  F6  G7  H8
A8|B1 C2 D3 E4 F5 G6 H7      B1  C2  D3  E4  F5  G6  H7       A8|B1 C2 D3 E4 F5 G6 H7
A7 B8|C1 D2 E3 F4 G5 H6        C1  D2  E3  F4  G5  H6         A7 B8|C1 D2 E3 F4 G5 H6
A6 B7 C8|D1 E2 F3 G4 H5          D1  E2  F3  G4  H5           A6 B7 C8|D1 E2 F3 G4 H5
A5 B6 C7 D8|E1 F2 G3 H4            E1  F2  G3  H4             A5 B6 C7 D8|E1 F2 G3 H4
A4 B5 C6 D7 E8|F1 G2 H3              F1  G2  H3               A4 B5 C6 D7 E8|F1 G2 H3
A3 B4 C5 D6 E7 F8|G1 H2                G1  H2                 A3 B4 C5 D6 E7 F8|G1 H2
A2 B3 C4 D5 E6 F7 G8|H1                  H1                   A2 B3 C4 D5 E6 F7 G8|H1
A1 B2 C3 D4 E5 F6 G7 H8                                       A1 B2 C3 D4 E5 F6 G7 H8

45 clockwise                                                  45 clockwise
</pre>
<p>A parallel prefix solution to map the normal occupancy to the visual rotated approach is left to the ambitious reader.
</p><p><br/>
</p>
<h3><span class="mw-headline" id="Anti-Clockwise">Anti-Clockwise</span></h3>
<p>We enumerate the 15 <a href="Anti-Diagonals.html" title="Anti-Diagonals">anti-diagonals</a> by 7 ^ (file + rank), a <a href="Nibble.html" title="Nibble">nibble</a> wise <a href="General Setwise Operations.html#TheTwosComplement" title="General Setwise Operations">two's complement</a> F == -1.
</p>
<pre>
0 F E D C B A 9     1 1 1 1 1 1 1 9
1 0 F E D C B A     2 2 2 2 2 2 A A
2 1 0 F E D C B     3 3 3 3 3 B B B
3 2 1 0 F E D C     4 4 4 4 C C C C
4 3 2 1 0 F E D     5 5 5 D D D D D
5 4 3 2 1 0 F E     6 6 E E E E E E
6 5 4 3 2 1 0 F     7 F F F F F F F
7 6 5 4 3 2 1 0     0 0 0 0 0 0 0 0
</pre>
<p>We need to rotate the A-H files vertically by 7 to 0 ranks - done parallel prefix wise.
One square is therefor mapped by:
</p>
<pre>
sq' = (sq + 8*((sq&amp;7)^7)) &amp; 63;
</pre>
<p>The main anti-diagonal is rotated anti-clockwise to the first rank - thus 45 degrees. The shorter anti-diagonals are pairwise and properly file aligned packed into further ranks.
</p><p>On using xor see <a href="General Setwise Operations.html#BitsFrom2SourcesByMask" title="General Setwise Operations">bits from two sources by a mask</a>. See <a href="General Setwise Operations.html#Rotate" title="General Setwise Operations">rotate</a> for the intrinsic routines.
</p>
<pre>
/**
 * Pseudo rotate a bitboard 45 degree anti clockwise.
 * Main AntiDiagonal is mapped to 1st rank
 * @param x any bitboard
 * @return bitboard x rotated
 */
U64 pseudoRotate45antiClockwise (U64 x) {
   const U64 k1 = C64(0x5555555555555555);
   const U64 k2 = C64(0x3333333333333333);
   const U64 k4 = C64(0x0f0f0f0f0f0f0f0f);
   x ^= k1 &amp; (x ^ rotateRight(x,  8));
   x ^= k2 &amp; (x ^ rotateRight(x, 16));
   x ^= k4 &amp; (x ^ rotateRight(x, 32));
   return x;
}
</pre>
<hr/>
<p><span id="RankFileAndDiagonal"></span>
</p>
<h1><span class="mw-headline" id="Rank.2C_File_and_Diagonal">Rank, File and Diagonal</span></h1>
<p>Those subsets may be flipped or mirrored in a more efficient way by multiplication-techniques with disjoint intermediate sums and no internal overflows. Unlike the whole board techniques, multiplication doesn't swap bits, but maps file to a rank or vice versa in different steps, which can not be combined in one step. Main application is to map file- or diagonal occupancies to ranks, to dense the line-occupancy to consecutive bits, further elaborated in <a href="Occupancy of any Line.html" title="Occupancy of any Line">Occupancy of any Line</a> or <a href="Kindergarten Bitboards.html" title="Kindergarten Bitboards">Kindergarten Bitboards</a>.
</p>
<h2><span class="mw-headline" id="Flip_about_the_Anti-Diagonal">Flip about the Anti-Diagonal</span></h2>
<p>Flipping about the anti-diagonal multiplies with the main-diagonal. Note that the set bits in the main-diagonal have a distance of 9 (2^0, 2^9,2^18,...,2^54, 2^63). We can therefor safely multiply it with a rank-pattern with 8 consecutive neighboring bits without overflows.
<span id="FiletoaRank"></span>
</p>
<h3><span class="mw-headline" id="File_to_a_Rank">File to a Rank</span></h3>
<p>Multiplying the masked A-file with the main-diagonal, maps the file-bits to the 8th rank, similar to a flip about the anti-diagonal A8-H1. Shifting down to the 1st rank, leaves the bits like a 90-degree anti clockwise rotation.
</p>
<pre>
masked bits                             mapped to 8th rank
bits on A-file   *  main-diagonal    =  with garbage     -&gt; 1st rank
A . . . . . . .     . . . . . . . 1     A B C D E F G H     . . . . . . . .
B . . . . . . .     . . . . . . 1 .     B C D E F G H .     . . . . . . . .
C . . . . . . .     . . . . . 1 . .     C D E F G H . .     . . . . . . . .
D . . . . . . .     . . . . 1 . . .     D E F G H . . .  &gt;&gt; . . . . . . . .
E . . . . . . .  *  . . . 1 . . . .  =  E F G H . . . .  56 . . . . . . . .
F . . . . . . .     . . 1 . . . . .     F G H . . . . .     . . . . . . . .
G . . . . . . .     . 1 . . . . . .     G H . . . . . .     . . . . . . . .
H . . . . . . .     1 . . . . . . .     H . . . . . . .     A B C D E F G H
</pre>
<h3><span class="mw-headline" id="Rank_to_File">Rank to File</span></h3>
<p>Multiplying the masked 1st rank with the main-diagonal, maps the rank-bits to the H-file, similar to a flip about the anti-diagonal A8-H1. Shifting the H-file to the A-file plus mask acts like a 90-degree clockwise rotation.
</p>
<pre>
masked bits                             mapped to H-file
bits on 1st rank *  main-diagonal    =  with garbage     -&gt; masked A-file
. . . . . . . .     . . . . . . . 1     C D E F G H . A     A . . . . . . .
. . . . . . . .     . . . . . . 1 .     D E F G H . A B     B . . . . . . .
. . . . . . . .     . . . . . 1 . .     E F G H . A B C  &gt;&gt; C . . . . . . .
. . . . . . . .     . . . . 1 . . .     F G H . A B C D  7  D . . . . . . .
. . . . . . . .  *  . . . 1 . . . .  =  G H . A B C D E  &amp;  E . . . . . . .
. . . . . . . .     . . 1 . . . . .     H . A B C D E F  A  F . . . . . . .
. . . . . . . .     . 1 . . . . . .     . A B C D E F G     G . . . . . . .
A B C D E F G H     1 . . . . . . .     A B C D E F G H     H . . . . . . .
</pre>
<p><span id="FlipAbouttheDiagonal"></span>
</p>
<h2><span class="mw-headline" id="Flip_about_the_Diagonal">Flip about the Diagonal</span></h2>
<p>Flipping about the Diagonal is a bit more tricky. Since the Anti-Diagonal pattern as factor has the set bits with distance of 7 only (2^0,2^7, 2^14,...2^49, 2^56) with possible overflows, if multiplied with rank pattern of eight neighboring bits. Thus it can only be used to flip the H-file about the diagonal.
</p>
<h3><span class="mw-headline" id="File_to_a_Rank_2">File to a Rank</span></h3>
<p>Multiplying the masked H-file with the 7-bit right shifted (board left shifted) anti-diagonal, maps the file-bits to the 8th rank, similar to a flip about the diagonal A1-H8. Shifting it down to the 1st rank, leaves the bits like flip about the diagonal. Shifting down to the 1st rank, leaves the bits like a 90-degree clockwise rotation.
</p>
<pre>
masked bits         Shifted             mapped to 8th rank
bits on H-file   *  anti-diagonal    =  with garbage     -&gt; 1st rank
. . . . . . . A     . . . . . . . .     H G F E D C B A     . . . . . . . .
. . . . . . . B     . 1 . . . . . .     . H G F E D C B     . . . . . . . .
. . . . . . . C     . . 1 . . . . .     . . H G F E D C     . . . . . . . .
. . . . . . . D     . . . 1 . . . .     . . . H G F E D  &gt;&gt; . . . . . . . .
. . . . . . . E  *  . . . . 1 . . .  =  . . . . H G F E  56 . . . . . . . .
. . . . . . . F     . . . . . 1 . .     . . . . . H G F     . . . . . . . .
. . . . . . . G     . . . . . . 1 .     . . . . . . H G     . . . . . . . .
/ . . . . . . H     1 . . . . . . 1     . . . . . . . H     H G F E D C B A
</pre>
<p><span id="DiagonalstoRanks"></span>
</p>
<h2><span class="mw-headline" id="Diagonals_to_Ranks">Diagonals to Ranks</span></h2>
<p>That is straight forward multiplication of a masked diagonal or anti-diagonal with the A-file.
To mask the garbage off, we further shift down by 7 ranks.
</p>
<pre>
masked diagonal  *  A-file              mapped
                                        to 8th rank      -&gt;  1st rank
. . . . . . . H     1 . . . . . . .     A B C D E F G H     . . . . . . . .
. . . . . . G .     1 . . . . . . .     A B C D E F G .     . . . . . . . .
. . . . . F . .     1 . . . . . . .     A B C D E F . .  &gt;&gt; . . . . . . . .
. . . . E . . .     1 . . . . . . .     A B C D E . . .  56 . . . . . . . .
. . . D . . . .  *  1 . . . . . . .  =  A B C D . . . .     . . . . . . . .
. . C . . . . .     1 . . . . . . .     A B C . . . . .     . . . . . . . .
. B . . . . . .     1 . . . . . . .     A B . . . . . .     . . . . . . . .
A . . . . . . .     1 . . . . . . .     A . . . . . . .     A B C D E F G H
</pre>
<h2><span class="mw-headline" id="Mirror_Horizontally">Mirror Horizontally</span></h2>
<p>This is about bit-reversal of a byte.
</p>
<pre>
rank1mirrored = (((rank1 * 0x80200802) &amp; 0x0884422110) * 0x0101010101010101) &gt;&gt; 56;
</pre>
<p>This is how it works on a chessboard:
</p>
<pre>
rank1            *  0x80200802          flipped
. . . . . . . .     . . . . . . . .     . . . . . . . .
. . . . . . . .     . . . . . . . .     . . . . . . . .
. . . . . . . .     . . . . . . . .     . . . . . . . .
. . . . . . . .     . . . . . . . .     B C D E F G H .
. . . . . . . .  *  . . . . . . . 1  =  D E F G H . . A
. . . . . . . .     . . . . . 1 . .     F G H . . A B C
. . . . . . . .     . . . 1 . . . .     H . . A B C D E
A B C D E F G H     . 1 . . . . . .     . A B C D E F G

flipped          &amp;  0x0884422110        reversedOnFiles
. . . . . . . .     . . . . . . . .     . . . . . . . .
. . . . . . . .     . . . . . . . .     . . . . . . . .
. . . . . . . .     . . . . . . . .     . . . . . . . .
B C D E F G H .     . . . 1 . . . .     . . . E . . . .
D E F G H . . A  &amp;  . . 1 . . . . 1  =  . . F . . . . A
F G H . . A B C     . 1 . . . . 1 .     . G . . . . B .
H . . A B C D E     1 . . . . 1 . .     H . . . . C . .
. A B C D E F G     . . . . 1 . . .     . . . . D . . .

reversedOnFiles  *  A-file              reversedOn8         reversed
. . . . . . . .     1 . . . . . . .     H G F E D C B A     . . . . . . . .
. . . . . . . .     1 . . . . . . .     H G F E D C B A     . . . . . . . .
. . . . . . . .     1 . . . . . . .     H G F E D C B A     . . . . . . . .
. . . E . . . .     1 . . . . . . .     H G F E D C B A  &gt;&gt; . . . . . . . .
. . F . . . . A  *  1 . . . . . . .  =  H G F . D C B A  56 . . . . . . . .
. G . . . . B .     1 . . . . . . .     H G . . D C B .     . . . . . . . .
H . . . . C . .     1 . . . . . . .     H . . . D C . .     . . . . . . . .
. . . . D . . .     1 . . . . . . .     . . . . D . . .     H G F E D C B A
</pre>
<p>A 32 bit solution:
</p>
<pre>
rank1mirrored = ( (rank1 * 0x0802 &amp; 0x22110)
                 |(rank1 * 0x8020 &amp; 0x88440) )
                * 0x10101000 &gt;&gt; 24;
</pre>
<p>Or a simple lookup:
</p>
<pre>
rank1mirrored = reverseByteLookup256[rank1];
</pre>
<h1><span class="mw-headline" id="See_also">See also</span></h1>
<ul><li> <a href="BMI2.html#PEXT" title="BMI2">BMI2 PEXT instruction</a></li>
<li> <a href="Color Flipping.html" title="Color Flipping">Color Flipping</a></li>
<li> <a href="Diagonal Mirroring.html" title="Diagonal Mirroring">Diagonal Mirroring</a></li>
<li> <a href="Horizontal Mirroring.html" title="Horizontal Mirroring">Horizontal Mirroring</a></li>
<li> <a href="Kindergarten Bitboards.html" title="Kindergarten Bitboards">Kindergarten Bitboards</a></li>
<li> <a href="Occupancy of any Line.html" title="Occupancy of any Line">Occupancy of any Line</a></li>
<li> <a href="Vertical Flipping.html" title="Vertical Flipping">Vertical Flipping</a></li>
<li> <a href="XOP.html#VPPERM" title="XOP">XOP VPPERM instruction</a></li></ul>
<h1><span class="mw-headline" id="Publications">Publications</span></h1>
<ul><li> <a href="Christopher Strachey.html" title="Christopher Strachey">Christopher Strachey</a> (<b>1961</b>). <i>Bitwise operations</i>. <a href="ACM.html#Communications" title="ACM">Communications of the ACM</a>, Vol. 4, No. 3 <sup class="reference" id="cite_ref-5"><a href="#cite note-5">[5]</a></sup></li>
<li> <a href="Henry S. Warren, Jr..html" title="Henry S. Warren, Jr.">Henry S. Warren, Jr.</a> (<b>2002, 2012</b>). <i><a href="Henry S. Warren, Jr..html#HackersDeligh" title="Henry S. Warren, Jr.">Hacker's Delight</a></i>. <a class="external text" href="https://en.wikipedia.org/wiki/Addison%E2%80%93Wesley" rel="nofollow">Addison-Wesley</a></li>
<li> <a href="Donald Knuth.html" title="Donald Knuth">Donald Knuth</a> (<b>2009</b>). <i><a class="external text" href="http://www-cs-faculty.stanford.edu/%7Eknuth/taocp.html.html" rel="nofollow">The Art of Computer Programming</a>, Volume 4, Fascicle 1: Bitwise tricks &amp; techniques</i>, as <a class="external text" href="http://www-cs-faculty.stanford.edu/%7Eknuth/fasc1a.ps.gz.html" rel="nofollow">Pre-Fascicle 1a postscript</a></li></ul>
<h1><span class="mw-headline" id="Forum_Posts">Forum Posts</span></h1>
<ul><li> <a class="external text" href="http://www.talkchess.com/forum/viewtopic.php?t=59937.html" rel="nofollow">Reflection of a bitboard</a> by <a href="Harm Geert Muller.html" title="Harm Geert Muller">Harm Geert Muller</a>, <a href="CCC.html" title="CCC">CCC</a>, April 22, 2016</li></ul>
<h1><span class="mw-headline" id="External_Links">External Links</span></h1>
<ul><li> <a class="external text" href="http://drpetric.blogspot.com/2013/09/bit-gathering-via-multiplication.html.html" rel="nofollow">Bit Gather Via Multiplication</a> by <a class="new" href="index.php?title=Vlad Petric&amp;action=edit&amp;redlink=1.html" title="Vlad Petric (page does not exist)">Vlad Petric</a>, <a class="external text" href="http://drpetric.blogspot.com/.html" rel="nofollow">Dr. Petric's Technical Blog</a>, September 17, 2013 <sup class="reference" id="cite_ref-6"><a href="#cite note-6">[6]</a></sup></li></ul>
<h2><span class="mw-headline" id="Flipping">Flipping</span></h2>
<ul><li> <a class="external text" href="https://en.wikipedia.org/wiki/Flip" rel="nofollow">Flip from Wikipedia</a></li>
<li> <a class="external text" href="https://en.wikipedia.org/wiki/Flip_%28mathematics%29" rel="nofollow">Flip (mathematics) from Wikipedia</a></li>
<li> <a class="external text" href="http://www.icoachmath.com/SiteMap/Flip.html.html" rel="nofollow">Flip</a> from <a class="external text" href="http://www.icoachmath.com/.html" rel="nofollow">iCoachMath</a></li>
<li> <a class="external text" href="http://www.misterteacher.com/abc.html.html" rel="nofollow">Flip, Slide, Turn - Alphabet Geometry</a> from <a class="external text" href="http://www.misterteacher.com/.html" rel="nofollow">misterteacher.com</a></li></ul>
<h2><span class="mw-headline" id="Mirroring">Mirroring</span></h2>
<ul><li> <a class="external text" href="https://en.wikipedia.org/wiki/Mirror" rel="nofollow">Mirror from Wikipedia</a></li>
<li> <a class="external text" href="https://en.wikipedia.org/wiki/Mirroring_%28psychology%29" rel="nofollow">Mirroring (psychology) from Wikipedia</a></li>
<li> <a class="external text" href="https://en.wikipedia.org/wiki/Reflection_%28mathematics%29" rel="nofollow">Reflection (mathematics) from Wikipedia</a></li>
<li> <a class="external text" href="https://en.wikipedia.org/wiki/Reflection_%28physics%29" rel="nofollow">Reflection (physics) from Wikipedia</a></li>
<li> <a class="external text" href="https://en.wikipedia.org/wiki/Reflection_symmetry" rel="nofollow">Reflection symmetry from Wikipedia</a></li>
<li> <a class="external text" href="https://en.wikipedia.org/wiki/Venus_effect" rel="nofollow">Venus effect from Wikipedia</a></li>
<li> <a class="external text" href="http://math.ucr.edu/home/baez/physics/General/mirrors.html.html" rel="nofollow">Why do Mirrors Reverse Left and Right?</a></li></ul>
<h2><span class="mw-headline" id="Rotation">Rotation</span></h2>
<ul><li> <a class="external text" href="https://en.wikipedia.org/wiki/Rotation" rel="nofollow">Rotation from Wikipedia</a></li>
<li> <a class="external text" href="https://en.wikipedia.org/wiki/Rotation_%28mathematics%29" rel="nofollow">Rotation (mathematics) from Wikipedia</a></li>
<li> <a class="external text" href="https://en.wikipedia.org/wiki/Rotation_matrix" rel="nofollow">Rotation matrix from Wikipedia</a></li>
<li> <a class="external text" href="https://en.wikipedia.org/wiki/Rotation_formalisms_in_three_dimensions" rel="nofollow">Rotation formalisms in three dimensions -  Wikipedia</a></li>
<li> <a class="external text" href="http://www.icoachmath.com/SiteMap/Rotation.html.html" rel="nofollow">Rotation</a> from <a class="external text" href="http://www.icoachmath.com/.html" rel="nofollow">iCoachMath</a></li>
<li> <a href="Oliver Vornberger.html" title="Oliver Vornberger">Oliver Vornberger's</a> German <a class="external text" href="http://www-lehre.inf.uos.de/%7Ecg/2006/.html" rel="nofollow">lecture</a>on Graphic Rotation:
<ul><li> <a class="external text" href="http://www-lehre.inf.uos.de/%7Ecg/2006/skript/node41.html.html" rel="nofollow">2D Rotation</a></li>
<li> <a class="external text" href="http://www-lehre.inf.uos.de/%7Ecg/2006/skript/node100.html.html" rel="nofollow">3D Rotation</a></li></ul></li></ul>
<h2><span class="mw-headline" id="Reflection">Reflection</span></h2>
<ul><li> <a class="external text" href="https://en.wikipedia.org/wiki/Reflection_%28mathematics%29" rel="nofollow">Reflection (mathematics) from Wikipedia</a></li>
<li> <a class="external text" href="https://en.wikipedia.org/wiki/Reflection_%28physics%29" rel="nofollow">Reflection (physics) from Wikipedia</a></li>
<li> <a class="external text" href="https://en.wikipedia.org/wiki/Reflection_symmetry" rel="nofollow">Reflection symmetry from Wikipedia</a></li></ul>
<h2><span class="mw-headline" id="Smoke_.27n.27_Mirrors">Smoke 'n' Mirrors</span></h2>
<ul><li> <a href="Category:Lee Ritenour.html" title="Category:Lee Ritenour">Lee Ritenour</a>, <a href="Category:Mike Stern.html" title="Category:Mike Stern">Mike Stern</a>, <a href="Category:Simon Phillips.html" title="Category:Simon Phillips">Simon Phillips</a>, <a class="external text" href="https://en.wikipedia.org/wiki/John_Beasley_%28musician%29" rel="nofollow">John Beasley</a>, <a class="external text" href="http://www.allmusic.com/artist/melvin-davis-mn0000350965.html" rel="nofollow">Melvin Davis</a> - Smoke 'n' Mirrors <sup class="reference" id="cite_ref-7"><a href="#cite note-7">[7]</a></sup>, <a class="external text" href="https://en.wikipedia.org/wiki/Blue_Note_Tokyo" rel="nofollow">Blue Note Tokyo</a>, 2011, <a class="external text" href="https://en.wikipedia.org/wiki/YouTube" rel="nofollow">YouTube</a> Video <sup class="reference" id="cite_ref-8"><a href="#cite note-8">[8]</a></sup></li></ul>
<dl><dd> <div class="embedvideo ev_inline ev_top autoResize" style=" width: 646px;"><div class="embedvideowrap" style="width: 640px;"><iframe allowfullscreen="true" frameborder="0" height="360" src="//www.youtube.com/embed/SFGkvF_rK-A?" width="640"></iframe></div></div></dd></dl>
<h1><span class="mw-headline" id="References">References</span></h1>
<div class="mw-references-wrap"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite ref-1">↑</a></span> <span class="reference-text"><a class="external text" href="http://www.barbaramittman.com/Site/Figurative Paintings.html.html" rel="nofollow">Figurative Paintings</a> by <a href="Category:Barbara Mittman.html" title="Category:Barbara Mittman">Barbara Mittman</a></span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><a href="#cite ref-2">↑</a></span> <span class="reference-text"><a class="external text" href="http://msdn.microsoft.com/en-us/library/a3140177.aspx.html" rel="nofollow">_byteswap_uint64</a> Visual C++ Developer Center - Run-Time Library Reference</span>
</li>
<li id="cite_note-3"><span class="mw-cite-backlink"><a href="#cite ref-3">↑</a></span> <span class="reference-text"><a class="external text" href="http://msdn.microsoft.com/en-us/library/5cc576c4.aspx.html" rel="nofollow">_rotl, _rotl64, _rotr_rotr64</a> Visual C++ Developer Center - Run-Time Library Reference</span>
</li>
<li id="cite_note-4"><span class="mw-cite-backlink"><a href="#cite ref-4">↑</a></span> <span class="reference-text"><a href="Donald Knuth.html" title="Donald Knuth">Donald Knuth</a> (<b>2009</b>). <i><a class="external text" href="http://www-cs-faculty.stanford.edu/%7Eknuth/taocp.html.html" rel="nofollow">The Art of Computer Programming</a>, Volume 4, Fascicle 1: Bitwise tricks &amp; techniques</i>, as <a class="external text" href="http://www-cs-faculty.stanford.edu/%7Eknuth/fasc1a.ps.gz.html" rel="nofollow">Pre-Fascicle 1a postscript</a></span>
</li>
<li id="cite_note-5"><span class="mw-cite-backlink"><a href="#cite ref-5">↑</a></span> <span class="reference-text"><a class="external text" href="http://www.hackersdelight.org/hdcodetxt/reverse.c.txt.html" rel="nofollow">reverse.c</a> from <a class="external text" href="http://www.hackersdelight.org/hdcode.htm.html" rel="nofollow">C code for most of the programs that appear in HD</a> by <a href="Henry S. Warren, Jr..html" title="Henry S. Warren, Jr.">Henry S. Warren, Jr.</a></span>
</li>
<li id="cite_note-6"><span class="mw-cite-backlink"><a href="#cite ref-6">↑</a></span> <span class="reference-text"><a class="external text" href="https://chessprogramming.wikispaces.com/share/view/64439740" rel="nofollow">Demystifying the Magic Multiplier?</a></span>
</li>
<li id="cite_note-7"><span class="mw-cite-backlink"><a href="#cite ref-7">↑</a></span> <span class="reference-text"><a class="external text" href="https://en.wikipedia.org/wiki/Smoke_and_mirrors_%28disambiguation%29" rel="nofollow">Smoke and mirrors (disambiguation)</a></span>
</li>
<li id="cite_note-8"><span class="mw-cite-backlink"><a href="#cite ref-8">↑</a></span> <span class="reference-text"><a class="external text" href="https://www.youtube.com/watch?v=vsmlkrBiok0" rel="nofollow">Shorter front view version with interviews</a></span>
</li>
</ol></div>
<p><b><a href="Bitboards.html" title="Bitboards">Up one Level</a></b>
</p>
<!-- 
NewPP limit report
Cached time: 20240722165915
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.035 seconds
Real time usage: 0.037 seconds
Preprocessor visited node count: 740/1000000
Preprocessor generated node count: 1528/1000000
Post‐expand include size: 27/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key oscar70_mw1-mw_:pcache:idhash:1097-0!canonical and timestamp 20240722165915 and revision id 9360
 -->
</div> <div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://www.chessprogramming.org/index.php?title=Flipping_Mirroring_and_Rotating&amp;oldid=9360">https://www.chessprogramming.org/index.php?title=Flipping_Mirroring_and_Rotating&amp;oldid=9360</a>"					</div>
<div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a href="Special:Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="Category:Barbara Mittman.html" title="Category:Barbara Mittman">Barbara Mittman</a></li><li><a href="Category:Simon Phillips.html" title="Category:Simon Phillips">Simon Phillips</a></li><li><a href="Category:Lee Ritenour.html" title="Category:Lee Ritenour">Lee Ritenour</a></li><li><a href="Category:Mike Stern.html" title="Category:Mike Stern">Mike Stern</a></li></ul></div></div> <div class="visualClear"></div>
</div>
</div>
<div id="mw-navigation">
<h2>Navigation menu</h2>
<div id="mw-head">
<div aria-labelledby="p-personal-label" class="" id="p-personal" role="navigation">
<h3 id="p-personal-label">Personal tools</h3>
<ul>
<li id="pt-login"><a accesskey="o" href="index.php?title=Special:UserLogin&amp;returnto=Flipping+Mirroring+and+Rotating&amp;returntoquery=printable%3Dyes.html" title="You are encouraged to log in; however, it is not mandatory [o]">Log in</a></li> </ul>
</div>
<div id="left-navigation">
<div aria-labelledby="p-namespaces-label" class="vectorTabs" id="p-namespaces" role="navigation">
<h3 id="p-namespaces-label">Namespaces</h3>
<ul>
<li class="selected" id="ca-nstab-main"><span><a accesskey="c" href="Flipping Mirroring and Rotating.html" title="View the content page [c]">Page</a></span></li>
<li class="new" id="ca-talk"><span><a accesskey="t" href="index.php?title=Talk:Flipping Mirroring and Rotating&amp;action=edit&amp;redlink=1.html" rel="discussion" title="Discussion about the content page [t]">Discussion</a></span></li>
</ul>
</div>
<div aria-labelledby="p-variants-label" class="vectorMenu emptyPortlet" id="p-variants" role="navigation">
<h3 id="p-variants-label">
<span>Variants</span>
</h3>
<div class="menu">
<ul>
</ul>
</div>
</div>
</div>
<div id="right-navigation">
<div aria-labelledby="p-views-label" class="vectorTabs" id="p-views" role="navigation">
<h3 id="p-views-label">Views</h3>
<ul>
<li class="selected" id="ca-view"><span><a href="Flipping Mirroring and Rotating.html">Read</a></span></li>
<li id="ca-viewsource"><span><a accesskey="e" href="index.php?title=Flipping Mirroring and Rotating&amp;action=edit.html" title="This page is protected.
You can view its source [e]">View source</a></span></li>
<li class="collapsible" id="ca-history"><span><a accesskey="h" href="index.php?title=Flipping Mirroring and Rotating&amp;action=history.html" title="Past revisions of this page [h]">View history</a></span></li>
</ul>
</div>
<div aria-labelledby="p-cactions-label" class="vectorMenu emptyPortlet" id="p-cactions" role="navigation">
<h3 id="p-cactions-label"><span>More</span></h3>
<div class="menu">
<ul>
</ul>
</div>
</div>
<div id="p-search" role="search">
<h3>
<label for="searchInput">Search</label>
</h3>
<form action="/index.php" id="searchform">
<div id="simpleSearch">
<input accesskey="f" id="searchInput" name="search" placeholder="Search Chessprogramming wiki" title="Search Chessprogramming wiki [f]" type="search"/><input name="title" type="hidden" value="Special:Search"/><input class="searchButton mw-fallbackSearchButton" id="mw-searchButton" name="fulltext" title="Search the pages for this text" type="submit" value="Search"/><input class="searchButton" id="searchButton" name="go" title="Go to a page with this exact name if it exists" type="submit" value="Go"/> </div>
</form>
</div>
</div>
</div>
<div id="mw-panel">
<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="Main Page.html" title="Visit the main page"></a></div>
<div aria-labelledby="p-navigation-label" class="portal" id="p-navigation" role="navigation">
<h3 id="p-navigation-label">Navigation</h3>
<div class="body">
<ul>
<li id="n-mainpage-description"><a accesskey="z" href="Main Page.html" title="Visit the main page [z]">Main page</a></li><li id="n-recentchanges"><a accesskey="r" href="Special:RecentChanges.html" title="A list of recent changes in the wiki [r]">Recent changes</a></li><li id="n-randompage"><a accesskey="x" href="Special:Random.html" title="Load a random page [x]">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li> </ul>
</div>
</div>
<div aria-labelledby="p-tb-label" class="portal" id="p-tb" role="navigation">
<h3 id="p-tb-label">Tools</h3>
<div class="body">
<ul>
<li id="t-whatlinkshere"><a accesskey="j" href="Special:WhatLinksHere/Flipping Mirroring and Rotating.html" title="A list of all wiki pages that link here [j]">What links here</a></li><li id="t-recentchangeslinked"><a accesskey="k" href="Special:RecentChangesLinked/Flipping Mirroring and Rotating.html" rel="nofollow" title="Recent changes in pages linked from this page [k]">Related changes</a></li><li id="t-specialpages"><a accesskey="q" href="Special:SpecialPages.html" title="A list of all special pages [q]">Special pages</a></li><li id="t-permalink"><a href="index.php?title=Flipping Mirroring and Rotating&amp;oldid=9360.html" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="index.php?title=Flipping Mirroring and Rotating&amp;action=info.html" title="More information about this page">Page information</a></li> </ul>
</div>
</div>
</div>
</div>
<div id="footer" role="contentinfo">
<ul id="footer-info">
<li id="footer-info-lastmod"> This page was last edited on 19 December 2018, at 15:10.</li>
<li id="footer-info-copyright">Content is available under <a href="Chessprogramming:About.html" title="Chessprogramming:About">Creative Commons Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0)</a> unless otherwise noted.</li>
</ul>
<ul id="footer-places">
<li id="footer-places-privacy"><a href="Chessprogramming:Privacy policy.html" title="Chessprogramming:Privacy policy">Privacy policy</a></li>
<li id="footer-places-about"><a href="Chessprogramming:About.html" title="Chessprogramming:About">About Chessprogramming wiki</a></li>
<li id="footer-places-disclaimer"><a href="Chessprogramming:General disclaimer.html" title="Chessprogramming:General disclaimer">Disclaimers</a></li>
<li id="footer-places-mobileview"><a class="noprint stopMobileRedirectToggle" href="https://www.chessprogramming.org/index.php?title=Flipping_Mirroring_and_Rotating&amp;printable=yes&amp;mobileaction=toggle_view_mobile">Mobile view</a></li>
</ul>
<ul class="noprint" id="footer-icons">
<li id="footer-copyrightico">
<a href="https://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0)" height="31" src="images/cc-by-sa.png" width="88"/></a> </li>
<li id="footer-poweredbyico">
<a href="/www.mediawiki.org/.html"><img alt="Powered by MediaWiki" height="31" src="resources/assets/poweredby_mediawiki_88x31.png" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88"/></a> </li>
</ul>
<div style="clear:both"></div>
</div>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.035","walltime":"0.037","ppvisitednodes":{"value":740,"limit":1000000},"ppgeneratednodes":{"value":1528,"limit":1000000},"postexpandincludesize":{"value":27,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20240722165915","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":55});});</script>
</body>
</html>
